/* Copyright (c) 2025 Session Buddy - All Rights Reserved */
/* The contents of this file may not be modified, copied, and/or distributed, in whole or in part, without the express permission of the author, reachable at support@sessionbuddy.com */

/*! For license information please see background.bundle.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=136)}([,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(16);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";var r=n(63);var o=n(71),i=n(46);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,c,"next",t)}function c(t){r(a,o,i,u,c,"throw",t)}u(void 0)}))}}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";var r=n(138),o=n(137),i=n(12),a=n(8);function u(t){Object(a.a)(1,arguments);var e=Object(i.a)(t);return e.setHours(0,0,0,0),e}function c(t,e){Object(a.a)(2,arguments);var n=u(t),r=u(e);return n.getTime()===r.getTime()}var s=n(29);function l(t,e){return Object(a.a)(2,arguments),function(t,e){Object(a.a)(2,arguments);var n=Object(i.a)(t),r=Object(s.a)(e);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(t,-Object(s.a)(e))}var f=n(17),h=n(14),d=n(57),p=n(5);n.d(e,"a",(function(){return v}));var v={thisBrowser:function(){return"this browser"},session:function(){return"session"},history:function(){return"history"},client:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"browser","browsers")},collection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"collection","collections",{bare:"collections",withCount:"no collections"})},event:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"event","events",{bare:"events",withCount:"no events"})},item:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"item","items",{bare:"items",withCount:"no items"})},window:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"window","windows",{bare:"windows",withCount:"no windows"})},incognitoWindow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"incognito window","incognito windows",{bare:"incognito windows",withCount:"no incognito windows"})},currentWindow:function(){return"this window"},folder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"folder","folders",{bare:"folders",withCount:"no folders"})},incognitoFolder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"incognito folder","incognito folders",{bare:"incognito folders",withCount:"no incognito folders"})},tab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"tab","tabs",{bare:"tabs",withCount:"no tabs"})},link:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"link","links",{bare:"links",withCount:"no links"})},summarizedItems:function(t){var e=t.groupCount,n=t.unitCount,r=t.isWindow,o=t.includeCount,i=r?v.window:v.folder,a=r?v.tab:v.link;return e&&n?"".concat(i({count:e,includeCount:o})," and ").concat(a({count:n,includeCount:o})):e?i({count:e,includeCount:o}):a({count:n,includeCount:o})},title:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"title","titles")},url:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"URL","URLs",{bare:"URLs",withCount:"no URLs"})},favicon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"favicon","favicons")},untitled:function(){return"untitled"},updated:function(){return"updated"},created:function(){return"created"},import:function(){return"import"},restore:function(){return"restore"},relativeDate:function(t,e){var n=Object(h.a)()-+new Date(t)<3e4?"just now":Object(r.a)(t,{addSuffix:!0}),o=null!==e&&void 0!==e?e:{},i=o.noun,a=o.verb;return i&&a?"".concat(v[i]()," ").concat(v[a]()," ").concat(n):a?"".concat(v[a]()," ").concat(n):n},longDate:function(t){var e=new Date(t).getFullYear()!==(new Date).getFullYear();return Object(o.a)(t,"eeee MMMM d".concat(e?", yyyy":""," ' \u2022 ' h:mm a"))},shortDate:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).full;if(!e&&function(t){return Object(a.a)(1,arguments),c(t,Date.now())}(t))return Object(o.a)(t,"h:mm a");if(!e&&function(t){return Object(a.a)(1,arguments),c(t,l(Date.now(),1))}(t))return"".concat(v.yesterday(),"  \u2022  ").concat(Object(o.a)(t,"h:mm a"));var n=e||new Date(t).getFullYear()!==(new Date).getFullYear();return Object(o.a)(t,"MMM d".concat(n?", yyyy":""," ' \u2022 ' h:mm a"))},date:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.toLocaleDateString("en-US")},time:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toLocaleTimeString("en-US")},dateAndTime:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toLocaleString("en-US")},now:function(){return"now"},yesterday:function(){return"yesterday"},number:function(t){return(+t||0).toLocaleString("en-US")},integer:function(t){return(+t||0).toLocaleString("en-US",{maximumFractionDigits:0})},alt:function(){return"alt"},shift:function(){return"shift"},ctrl:function(){return"ctrl"},cmd:function(){return"cmd"},ctrlOrCmd:function(){return"mac"===d.a?v.cmd():v.ctrl()},keyModifier:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t){return Object(p.d)(t)})).join("+")},learnMore:function(){return"learn more"},click:function(){return"click"},close:function(){return"close"},cancel:function(){return"cancel"}}},function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"i",(function(){return f}));n(2);function r(t,e){return(null===t||void 0===t?void 0:t.startsWith(e))?t.slice(e.length):t}function o(t,e){return(null===e||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.endsWith(e))?t.slice(0,-e.length):t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=t.lastIndexOf(e);return n<0?t:t.slice(0,n)}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")}function u(t){return t?"".concat(t[0].toLocaleUpperCase()).concat(t.substring(1)):""}function c(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=t.toLowerCase();return e<n?-1:e>n?1:0}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.replace(/^/gm," ".repeat(e))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.replace(/^(?=[^\n])/gm," ".repeat(e))}function f(t){return t.toUpperCase()}},function(t,e,n){"use strict";n.d(e,"k",(function(){return h})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"v",(function(){return y})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return g})),n.d(e,"j",(function(){return w})),n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return _})),n.d(e,"u",(function(){return S})),n.d(e,"q",(function(){return L})),n.d(e,"p",(function(){return T})),n.d(e,"s",(function(){return I})),n.d(e,"r",(function(){return C})),n.d(e,"B",(function(){return D})),n.d(e,"A",(function(){return M})),n.d(e,"y",(function(){return K})),n.d(e,"z",(function(){return B})),n.d(e,"m",(function(){return R})),n.d(e,"n",(function(){return q})),n.d(e,"o",(function(){return G})),n.d(e,"t",(function(){return Y})),n.d(e,"l",(function(){return z})),n.d(e,"w",(function(){return H})),n.d(e,"x",(function(){return V})),n.d(e,"C",(function(){return Q}));var r=n(16),o=n(1),i=n(13),a=n(4),u=n(51),c=n(9),s=n(11),l=n(47),f=n(78),h=30,d=60,p=100,v=Object(u.a)(),y="nxs.theme",b=["title","type","state","incognito","top","left","width","height","deleted"],m=["url","title","titleOriginal","favIconUrl","description","groupId","active","pinned","deleted"],g="local-client",w=1048576,x=50,O=50,j=30,_=30,k={window:{type:"normal",state:"normal",top:0,left:0},tab:{status:"complete",groupId:-1}},E={folder:{type:"normal",state:"normal",top:0,left:0},link:{groupId:-1}};function S(){var t,e;return!!(null===(t=globalThis.chrome)||void 0===t||null===(e=t.runtime)||void 0===e?void 0:e.id)&&v.ext.isNxsExtensionId(chrome.runtime.id)}function L(t,e,n){if(!t)return"";var r=e&&+t<+e,o=null!==n&&void 0!==n?n:{},i=o.bare,u=o.noun;return a.a.relativeDate(r?e:t,i?void 0:{noun:u,verb:r?"updated":"created"})}function T(t,e){if(!t)return"";var n=e&&+t<+e;return a.a.longDate(n?e:t)}function P(t){return"tabs"in t}function I(t){var e;return null!==(e=null===t||void 0===t?void 0:t.reduce((function(t,e){return t+e.tabs.length}),0))&&void 0!==e?e:0}function C(t){var e;return null!==(e=null===t||void 0===t?void 0:t.reduce((function(t,e){return t+e.links.length}),0))&&void 0!==e?e:0}function D(t){return Object(s.d)(Object(s.c)(t,A))}function A(t,e){return!1!==t&&(!N(e)||t!==k.window[e])}function N(t){return t in k.window}function M(t){return Object(s.d)(Object(s.c)(t,U))}function U(t,e){return!1!==t&&(!("favIconUrl"===e&&!t)&&((!F(e)||t!==k.tab[e])&&!!("mutedInfo"!==e||t&&"object"===typeof t&&"muted"in t&&t.muted)))}function F(t){return t in k.tab}function K(t){var e,n=t.groups,a=t.unitIds,u=t.groupIds,c=t.mapGroup,s=t.mapUnit,l=!a.length&&!u.length,f=[],h=Object(i.a)(n);try{for(h.s();!(e=h.n()).done;){var d=e.value;if(!d.deleted)if(l||u.includes(d.id))f.push(c(d));else{var p=Y(d).filter((function(t){return!t.deleted&&a.includes(t.id)})).map((function(t){return s(t)}));if(p.length){var v=c(d,!0);f.push(Object(o.a)(Object(o.a)({},v),{},Object(r.a)({},P(v)?"tabs":"links",p)))}}}}catch(y){h.e(y)}finally{h.f()}return f}function B(t,e){return K(Object(o.a)(Object(o.a)({groups:t},e),{},{mapGroup:l.b,mapUnit:l.b}))}function R(t,e){return W(t,e)||{}}function W(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],o=Y(r),i=0;i<o.length;i++)if(e(o[i],r,i,n))return{unit:o[i],group:r,unitIdx:i,groupIdx:n}}function q(t){if(!t)return[];var e=[];return W(t,(function(t,n,r,o){e.push({unit:t,group:n,unitIdx:r,groupIdx:o})})),e}function G(t){return t?t.flatMap((function(t){return t?Y(t):[]})):[]}function Y(t){var e;return null!==(e=P(t)?t.tabs:t.links)&&void 0!==e?e:[]}function z(t,e){var n=Object(o.a)(Object(o.a)({},t),Object(f.a)(t,e));return n.title===n.titleOriginal&&delete n.titleOriginal,n}function H(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"loaded"!==n)&&(!e||"loading"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)}));return r.folders=(null!==(n=r.folders)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"_setText"!==n)&&(!e||"titleSplit"!==n)&&(!e||"sourceId"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&(!function(t){return t in E.folder}(n)||t!==E.folder[n])}));r.links=Object(c.c)((null!==(n=r.links)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n=Object(s.c)(t,(function(t,n){return(!e||"titleSplit"!==n)&&(!e||"urlSplit"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&("userDescription"!==n||""!==t)&&("favIconUrl"!==n||""!==t)&&(!function(t){return t in E.link}(n)||t!==E.link[n])}));n.title&&n.title!==n.titleOriginal||delete n.titleOriginal;n.url||(n.url="");return n}(t,e)})),(function(t){return!!t.pinned}));var o=r.links.findLast((function(t){return t.active}));o&&r.links.forEach((function(t){t.active&&t!==o&&delete t.active}));return r}(t,e)})),r}function V(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"loaded"!==n)&&(!e||"loading"!==n)&&!1!==t&&null!=t}));return r.windows=(null!==(n=r.windows)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n,r,o=Object(s.c)(t,(function(t,n){return(!e||"_setText"!==n)&&(!e||"titleSplit"!==n)&&(!e||"sourceId"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&(!N(n)||t!==k.window[n])}));o.tabs=Object(c.c)((null!==(n=null===(r=o.tabs)||void 0===r?void 0:r.filter((function(t){return t.url})))&&void 0!==n?n:[]).map((function(t){return function(t,e){var n=Object(s.c)(t,(function(t,n){return(!e||"titleSplit"!==n)&&(!e||"urlSplit"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&("favIconUrl"!==n||""!==t)&&(!F(n)||t!==k.tab[n])}));n.title&&n.title!==n.titleOriginal||delete n.titleOriginal;n.url||(n.url="");return n}(t,e)})),(function(t){return!!t.pinned}));var i=o.tabs.findLast((function(t){return t.active}));i&&o.tabs.forEach((function(t){t.active&&t!==i&&delete t.active}));return o}(t,e)})).filter((function(t){return t.tabs.length})),r}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!X(t[n],e[n]))return!1;return!0}function X(t,e){if(t.title!==e.title||t.type!==e.type||t.incognito!==e.incognito)return!1;if(t.tabs.length!==e.tabs.length)return!1;for(var n=0;n<t.tabs.length;n++)if(!$(t.tabs[n],e.tabs[n]))return!1;return!0}function $(t,e){return t.url===e.url&&t.pinned===e.pinned&&t.groupId===e.groupId}},function(t,e,n){"use strict";var r=n(72);var o=n(46),i=n(73);function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||Object(o.a)(t,e)||Object(i.a)()}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"m",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"j",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"d",(function(){return v})),n.d(e,"i",(function(){return y})),n.d(e,"e",(function(){return b}));var r=n(2),o=(n(7),n(47));function i(t,e){return[].concat(Object(r.a)(t.filter(e)),Object(r.a)(t.filter((function(t){return!e(t)}))))}function a(t){return t.filter((function(e,n){return t.indexOf(e)===n}))}function u(t){return a(t.flat()).filter((function(t){return void 0!==t}))}function c(t){return t[t.length-1]}function s(t){return Object(r.a)(t).reverse()}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.c;return[].concat(Object(r.a)(t?f(t,(function(t){return e.some((function(e){return n(e,t)}))})):[]),Object(r.a)(function(t){return t.filter((function(e,n){return t.lastIndexOf(e)===n}))}(e)))}function f(t,e){return t.some(e)?t.filter((function(t){return!e(t)})):t}function h(t,e){return e.length?f(t,(function(t){return e.includes(t)})):t}function d(t,e){return[t.slice(0,e),t.slice(e)]}function p(t,e){for(var n=[],r=[],o=0;o<t.length;o++)(e(t[o],o)?n:r).push(t[o]);return[n,r]}function v(t,e){return t.filter((function(t){return e.includes(t)}))}function y(t,e,n){return t.includes(e)?t.map((function(t){return t===e?n:t})):t}function b(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}},,function(t,e,n){"use strict";n.d(e,"i",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"e",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return m}));var r=n(2),o=n(7),i=n(1),a=n(43),u=n.n(a),c=n(9);function s(t,e){return e?Object.fromEntries(e.map((function(e){return[e,t[e]]})).filter((function(t){return void 0!==Object(o.a)(t,2)[1]}))):Object(i.a)({},t)}function l(t,e){return Object.fromEntries(Object.entries(t).filter((function(t){var n=Object(o.a)(t,2),r=n[0],i=n[1];return e(i,r)})))}function f(t){return l(t,(function(t){return null!=t}))}function h(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var n=Object(o.a)(t,2),r=n[0],i=n[1];return[r,e(i,r)]})))}function d(t,e){if(u()(t)&&u()(e)||u()(t)&&void 0===e||void 0===t&&u()(e)){t=void 0===t?{}:t,e=void 0===e?{}:e;var n=Object(c.m)([].concat(Object(r.a)(Object.keys(t)),Object(r.a)(Object.keys(e))));return Object.fromEntries(n.map((function(n){return[n,d(t[n],e[n])]})))}return Object(c.b)([t,e])}function p(t){var e=t.slice(1);return e.length||(e=[void 0]),e.reduce(d,t[0])}function v(t,e){return void 0!==t[e]}function y(t,e){return void 0===t[e]}function b(t,e){for(var n=Object.assign({},t,e),r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];u()(t[i])&&u()(e[i])&&(n[i]=b(t[i],e[i]))}return n}function m(t){return Object.entries(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(39),o=n(8);function i(t){Object(o.a)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===Object(r.a)(t)&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(46);function o(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,u=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==o.return||o.return()}finally{if(u)throw i}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(){return Date.now()}},,function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n(4),o=1,i=10;function a(t,e,n,o){var i=t.count,a=void 0===i?1:i,u=t.includeCount,c=void 0!==u&&u;return 1===a?c?"1 ".concat(e):e:0===a&&o?c?o.withCount:o.bare:c?"".concat(r.a.integer(a)," ").concat(n):n}function u(t){return t?o:i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(6),o="nxs.experiment.",i={"ingest-max-size":c(r.j),"collection-fetch-all":u,"collection-fetch-count-initial":c(r.a,r.a),"collection-fetch-count-lazy":c(r.b,r.b),"history-fetch-all":u,"history-fetch-count-initial":c(r.c,r.c),"history-fetch-count-lazy":c(r.d,r.d),"warn-on-open-tab-count":c(r.k),"optimized-open-threshold":c(r.i),"optimized-open-delay":c(r.h),"remove-title-suffixes":u,"use-theme-sensitive-favicons":function(t){return"false"!==t},debug:u},a=function(t,e){return void 0!==e&&localStorage.setItem("".concat(o).concat(t),JSON.stringify(e)),i[t](localStorage.getItem("".concat(o).concat(t)))};function u(t){return"true"===t}function c(t,e,n){return function(r){var o=parseInt(null!==r&&void 0!==r?r:"",10);return Number.isNaN(o)?t:(null!=e&&(o=Math.max(o,e)),null!=n&&(o=Math.min(o,n)),o)}}},,function(t,e,n){"use strict";function r(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var o=n(9);n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var i=["http","https","www","file"];function a(t){return t?u(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text").matchParts.length:0}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";if(!(null===e||void 0===e?void 0:e.length)||!t)return{parts:t?[t]:[],matchParts:[]};var a=e.map((function(t){return t.toLowerCase()})),u=Object(o.m)("url"===n?a.filter((function(t){return!i.includes(t)})):a),c="text"===n?function(t,e){var n="\\b(".concat(e.map(r).join("|"),")"),o=new RegExp(n,"gi");return t.split(o)}(t,u):function(t,e){var n="\\b(".concat(e.map(r).join("|"),")"),o=new RegExp(n,"gi");return t.split(o)}(t,u),s=c.filter((function(t){return u.includes(t.toLowerCase())}));return{parts:c,matchParts:s}}},function(t,e,n){"use strict";n.d(e,"i",(function(){return u})),n.d(e,"k",(function(){return c})),n.d(e,"j",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return b})),n.d(e,"g",(function(){return m}));var r=n(5),o=["/","?","#",":"],i=[".jpg",".jpeg",".png",".apng",".gif",".svg",".webp",".bmp",".ico"],a=["jpeg","png","apng","gif","svg+xml","webp","bmp"];function u(t,e){return t.startsWith(e)&&(t.length===e.length||o.includes(t[e.length]))}function c(t){try{return new URL(t)}catch(e){}return{}}function s(t){var e,n;return Array.from(null!==(e=null===(n=c(t).searchParams)||void 0===n?void 0:n.entries())&&void 0!==e?e:[])}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.substring(0,t.indexOf(":"))}function f(t){return Object(r.f)(Object(r.f)(t,"#"),"?")}function h(t){return"canParse"in URL?URL.canParse(t):d(t)||v(t)||!!(e=t)&&(e.startsWith("chrome://")||e.startsWith("brave://")||e.startsWith("edge://"))||function(t){return!!t&&(t.startsWith("chrome-extension://")||t.startsWith("moz-extension://")||t.startsWith("extension://"))}(t)||p(t)||function(t){return!!t&&t.startsWith("ftp://")}(t);var e}function d(t){return!!t&&(t.startsWith("https://")||t.startsWith("http://"))}function p(t){return!!t&&t.startsWith("data:")}function v(t){return!!t&&t.startsWith("file://")}function y(t){return!!t&&t.startsWith("javascript:")}function b(t){if(!t)return!1;var e="string"===typeof t?c(t):t,n=e.pathname,r=e.href;return!!(n&&r&&!p(r)&&i.some((function(t){return n.endsWith(t)}))||p(r)&&a.some((function(t){return r.startsWith("data:image/".concat(t,";base64,"))})))}function m(t){if(!t)return!1;var e=("string"===typeof t?c(t):t).pathname;return!!e&&e.endsWith(".pdf")}},,function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return v}));var r=n(2),o=n(1),i=n(87),a=n(20),u=n(9);function c(t){if(!(null===t||void 0===t?void 0:t.trim()))return null;var e=Object(i.parse)(t.toLowerCase(),{keywords:["collection","folder","link","history","window","tab"],tokenize:!0,alwaysArray:!0,offsets:!1}),n=Object(u.m)((e.text||[]).filter(b)),r=Object(u.m)((e.collection||[]).filter(b)),o=Object(u.m)((e.folder||[]).filter(b)),a=Object(u.m)((e.link||[]).filter(b)),c=Object(u.m)((e.history||[]).filter(b)),s=Object(u.m)((e.window||[]).filter(b)),l=Object(u.m)((e.tab||[]).filter(b));return n.length||r.length||o.length||a.length||c.length||s.length||l.length?{free:n,collection:r,folder:o,link:a,history:c,window:s,tab:l}:null}function s(t,e){var n,r,o,i;return(null!==(n=e.score)&&void 0!==n?n:0)-(null!==(r=t.score)&&void 0!==r?r:0)||(null!==(o=e.secondaryScore)&&void 0!==o?o:0)-(null!==(i=t.secondaryScore)&&void 0!==i?i:0)}function l(t){return"tab"===t.type||"link"===t.type}function f(t){return t.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{tabs:(t.tabs||[]).filter((function(t){var e,n;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||(null===(n=t.urlSplit)||void 0===n?void 0:n.matchParts.length)}))})})).filter((function(t){var e;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||t.tabs.length}))}function h(t,e,n){return e?t.map((function(t){var i=Object(o.a)({},t);if(t.title){var u=Object(a.b)(t.title,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window)));u.matchParts.length&&(i.titleSplit=u)}return Object(o.a)(Object(o.a)({},i),{},{tabs:d(t.tabs||[],e,n)})})):t}function d(t,e,n){return t.map((function(t){var i=Object(o.a)({},t),u=Object(a.b)(t.url,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window),Object(r.a)(e.tab)),"url");u.matchParts.length&&(i.urlSplit=u);var c=Object(a.b)(t.title||t.url,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window),Object(r.a)(e.tab)));return c.matchParts.length&&(i.titleSplit=c),i}))}function p(t){return t.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{links:(t.links||[]).filter((function(t){var e,n;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||(null===(n=t.urlSplit)||void 0===n?void 0:n.matchParts.length)}))})})).filter((function(t){var e;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||t.links.length}))}function v(t,e){return e?t.map((function(t){var n=Object(o.a)({},t);if(t.title){var i=Object(a.b)(t.title,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder)));i.matchParts.length&&(n.titleSplit=i)}return Object(o.a)(Object(o.a)({},n),{},{links:y(t.links||[],e)})})):t}function y(t,e){return t.map((function(t){var n=Object(o.a)({},t),i=Object(a.b)(t.url,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder),Object(r.a)(e.link)),"url");i.matchParts.length&&(n.urlSplit=i);var u=Object(a.b)(t.title||t.url,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder),Object(r.a)(e.link)));return u.matchParts.length&&(n.titleSplit=u),n}))}function b(t){return t.length>1}},,function(t,e,n){"use strict";function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(74);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";var r=n(76),o=n(81);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=n(59);function u(t){return function(){var e,n=Object(r.a)(t);if(Object(o.a)()){var u=Object(r.a)(this).constructor;e=Reflect.construct(n,arguments,u)}else e=n.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(a.a)(t):e}(this,e)}}n.d(e,"a",(function(){return u}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return O}));var r=n(3),o=n(23),i=n(24),a=n(31),u=n(32),c=n(60),s=n(34),l=n(14);function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var h={};function d(){}function p(){}function v(){}var y={};c(y,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(S([])));m&&m!==e&&n.call(m,i)&&(y=m);var g=v.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var h=60,d=5256e3,p=500;function v(t){return y.apply(this,arguments)}function y(){return y=Object(r.a)(f().mark((function t(e){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.settings,t.next=3,n.get("clientId");case 3:if(null===(r=t.sent)||void 0===r?void 0:r.value){t.next=9;break}return t.next=7,n.put({id:"clientId",value:Object(s.a)()});case 7:return t.next=9,n.put({id:"clientCreated",value:Object(l.a)()});case 9:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}var b=(new(function(t){Object(a.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this,"nxsSettings")).settings=void 0,t.version(1).stores({settings:"id"}),t.on("ready",v),t.settings=t.table("settings"),t}return Object(o.a)(n)}(c.a))).settings;function m(){return b.toArray()}function g(t){return b.get(t)}function w(t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(f().mark((function t(e){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:return n=t.sent,t.abrupt("return",null===n||void 0===n?void 0:n.value);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(f().mark((function t(e,n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.put({id:e,value:n});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,n){"use strict";var r=function(t){return crypto.getRandomValues(new Uint8Array(t))};n.d(e,"a",(function(){return o}));var o=function(t){return function(t,e,n){var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a="";;)for(var u=n(o),c=o;c--;)if((a+=t[u[c]&r]||"").length===i)return a}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,r)}("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",23)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(26),o=n(65),i=n(54),a=n(42),u=n(49),c=n(35),s=n(48),l=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"===typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r.a(e,t),e.prototype[u.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),f=function(t){function e(e,n,r,a){var u,c=t.call(this)||this;c._parentSubscriber=e;var s=c;return Object(o.a)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==i.a&&(s=Object.create(n),Object(o.a)(s.unsubscribe)&&c.add(s.unsubscribe.bind(s)),s.unsubscribe=c.unsubscribe.bind(c))),c._context=s,c._next=u,c._error=r,c._complete=a,c}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r={};function o(){return r}},function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"g",(function(){return _})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return S})),n.d(e,"b",(function(){return T})),n.d(e,"j",(function(){return P})),n.d(e,"c",(function(){return I})),n.d(e,"k",(function(){return C})),n.d(e,"a",(function(){return A})),n.d(e,"i",(function(){return M})),n.d(e,"h",(function(){return F}));var r=n(3),o=n(2),i=n(13),a=n(23),u=n(24),c=n(31),s=n(32),l=n(60),f=n(53),h=n(27),d=n(20),p=n(61),v=n(14),y=n(11),b=n(5),m=n(4);function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var w=new(function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this,"nxsClientHistory")).clientHistory=void 0,t.version(1).stores({clientHistory:"id, type"}),t.clientHistory=t.table("clientHistory"),t}return Object(a.a)(n)}(l.a)),x=w.clientHistory,O=Object(p.a)();function j(t){var e=t.lastItemId,n=t.limit,r=void 0===n?50:n,a=t.searchTerms;return O((function(){return(e?x.where("id").below(e):x.orderBy("id")).reverse().filter((function(t){if(!t)return!1;if(!a)return!0;if(!a.free.length&&!a.history.length&&!a.window.length&&!a.tab.length)return!1;var e,n=Object(i.a)(t.windows||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(Object(d.a)(r.title,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window))))return!0;var u,c=Object(i.a)(r.tabs||[]);try{for(c.s();!(u=c.n()).done;){var s=u.value;if(Object(d.a)(s.title,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window),Object(o.a)(a.tab)))||Object(d.a)(s.url,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window),Object(o.a)(a.tab)),"url"))return!0}}catch(l){c.e(l)}finally{c.f()}}}catch(l){n.e(l)}finally{n.f()}return!1})).limit(r).toArray()}))}function _(t){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(g().mark((function t(e){var n,r,o,i,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.lastItemId,r=e.limit,o=void 0===r?50:r,i=e.searchTerms,t.next=3,j({lastItemId:n,limit:o,searchTerms:i});case 3:return a=t.sent,t.abrupt("return",a.map((function(t){return Object(y.i)(t,["id","type","updated"])})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return x.get(t)}function S(t){return L.apply(this,arguments)}function L(){return(L=Object(r.a)(g().mark((function t(e){var n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.orderBy("id").reverse(),r=e?n.filter((function(t){return t&&t.type===e})):n,t.next=4,r.limit(1).toArray();case 4:return o=t.sent,t.abrupt("return",o.length?o[0]:void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return x.clear()}function P(t){return x.where("type").equals(t).delete()}function I(t){return x.bulkDelete(t)}function C(t,e){return D.apply(this,arguments)}function D(){return(D=Object(r.a)(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.transaction("rw",x,Object(r.a)(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.bulkPut(e.filter(Boolean));case 2:case"end":return t.stop()}}),t)}))));case 2:if(!n){t.next=5;break}return t.next=5,M(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("attempt to add null/undefined history item");case 3:return t.next=5,x.add(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("failed to add to history",e,t.t0);case 10:if(!n){t.next=13;break}return t.next=13,M(n);case 13:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function M(t){return U.apply(this,arguments)}function U(){return(U=Object(r.a)(g().mark((function t(e){var n,r,o,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.maxAge,r=e.maxCount,t.prev=1,!n){t.next=8;break}return o=Object(v.a)()-n,t.next=6,x.where("id").below(o).delete();case 6:t.sent;case 8:if(!r){t.next=17;break}return t.next=11,x.count();case 11:if(!((i=t.sent)>r)){t.next=17;break}return t.next=15,x.orderBy("id").limit(i-r).delete();case 15:t.sent;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.warn("history housekeeping failed",t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})))).apply(this,arguments)}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O(Object(r.a)(g().mark((function n(){var r;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={event:[],window:[],tab:[]},t.free.length||t.history.length||t.window.length||t.tab.length){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,x.orderBy("id").reverse().each((function(n){if(n){var a,u=0,c=0,s=Object(i.a)(n.windows||[]);try{for(s.s();!(a=s.n()).done;){var l=a.value,h=Object(d.a)(l.title,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window))),p=0,v=0;h&&(u+=h);var y,g=Object(i.a)(l.tabs||[]);try{for(g.s();!(y=g.n()).done;){var w=y.value,x=Math.pow(Object(d.a)(w.title,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window),Object(o.a)(t.tab)))+Object(d.a)(w.url,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window),Object(o.a)(t.tab)),"url"),2);x&&(c++,v++,e.excludeTabs||r.tab.push({id:w.id,setId:n.id,text:w.title||w.url,score:x,type:"tab",setTitle:"".concat(f.a.clientHistoryItemType(n.type)," ").concat(m.a.event()," from  ").concat(m.a.shortDate(n.id)),unit:w}),u+=x,p+=x)}}catch(O){g.e(O)}finally{g.f()}!h&&!p||e.excludeWindows||r.window.push({id:l.id,setId:n.id,text:l.title,score:h,secondaryScore:p,unitMatchCount:v,type:"window",setTitle:"".concat(f.a.clientHistoryItemType(n.type)," ").concat(m.a.event()," from  ").concat(m.a.shortDate(n.id))})}}catch(O){s.e(O)}finally{s.f()}u&&!e.excludeEvents&&r.event.push({id:n.id,setId:n.id,text:Object(b.d)(m.a.shortDate(n.id)),score:0,secondaryScore:u,unitMatchCount:c,type:"event",eventType:n.type})}}));case 5:return n.abrupt("return",{event:r.event.sort(h.g),window:r.window.sort(h.g),tab:r.tab.sort(h.g)});case 6:case"end":return n.stop()}}),n)}))))}},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(82),o=n(83),i=n(65),a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();n.d(e,"a",(function(){return u}));var u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,u=n._parentOrParents,s=n._ctorUnsubscribe,l=n._unsubscribe,f=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof t)u.remove(this);else if(null!==u)for(var h=0;h<u.length;++h){u[h].remove(this)}if(Object(i.a)(l)){s&&(this._unsubscribe=void 0);try{l.call(this)}catch(v){e=v instanceof a?c(v.errors):[v]}}if(Object(r.a)(f)){h=-1;for(var d=f.length;++h<d;){var p=f[h];if(Object(o.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(c(v.errors)):e.push(v)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},function(t,e){var n,r,o=Function.prototype,i=Object.prototype,a=o.toString,u=i.hasOwnProperty,c=a.call(Object),s=i.toString,l=(n=Object.getPrototypeOf,r=Object,function(t){return n(r(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=s.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t))return!1;var e=l(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},function(t){t.exports=JSON.parse('{"ext":{"mainFilenames":["session-buddy.html","main.html","mainUI.html","m.html"],"optionsFilename":"options.html","appStoreProfiles":{"googleChromeWebStore":{"url":"https://chrome.google.com/webstore/detail/session-buddy/edacconmaakjimmfgnblocblbcdcpbko","reviews":"https://chrome.google.com/webstore/detail/session-buddy/edacconmaakjimmfgnblocblbcdcpbko/reviews","extensionId":"edacconmaakjimmfgnblocblbcdcpbko"},"microsoftAddOnStore":{"url":"","extensionId":"microsoft-nxs-extension-id-placeholder"},"mozillaAddOnStore":{"url":"","extensionId":"mozilla-nxs-extension-id-placeholder"},"appleMacAppStore":{"url":"","extensionId":"apple-nxs-extension-id-placeholder"}}},"web":{"appUrls":["https://sessionbuddy.com/app","https://noox.is/app","https://app.sessionbuddy.com","https://sessionbuddy.app","https://www.sessionbuddy.com/app","https://www.noox.is/app","https://app.sessionbuddy.com","https://www.sessionbuddy.app"]}}')},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(63);function o(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";function r(t){return t}function o(t,e){return t===e}function i(t,e){return t.id===e.id}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";function r(t){return"id"in t&&("string"===typeof t.id&&!!t.id||"number"===typeof t.id)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(13),o=n(7),i=n(44),a=n(56),u=n(86);var c,s=n(21),l=n(9),f=n(11);function h(){return c||(c=function(){var t=function(){var t,e,n="chrome";if(n){var r=Object.values(a).find((function(t){return t.browsers.includes(n)}));if(r)return r}var c=null===(t=globalThis.chrome)||void 0===t||null===(e=t.runtime)||void 0===e?void 0:e.id;if(c){var s,l,f=null===(s=Object.entries(i.ext.appStoreProfiles).find((function(t){var e=Object(o.a)(t,2);e[0];return e[1].extensionId===c})))||void 0===s?void 0:s[0],h=f&&(null===(l=u[f])||void 0===l?void 0:l.authoritativeBrowserConfig);if(h)return a[h]}return a.chrome}(),e=function(t){var e=Object(l.c)(Object.values(a),(function(e){return e===t})).map((function(t){return{urls:n(t.urls),schemes:n(t.schemes)}}));return Object(f.g)(e);function n(t){return Object(f.f)(t,(function(t){return t.map((function(t){return t.toLowerCase()}))}))}}(t),n=e.urls,r=e.schemes,c=d(t),s=d(t,i.ext.mainFilenames),h=d(t,[i.ext.optionsFilename]),y=i.ext.mainFilenames[0],w=Object.values(i.ext.appStoreProfiles).map((function(t){return t.extensionId})),x=i.web.appUrls.map((function(t){return t.toLowerCase()}));return{ext:{canonicalMainFilename:y,canonicalMainUrl:p(t,y),allNxsExtensionIds:w,isNxsExtensionId:function(t){return w.includes(t)},isNxsUrl:function(t){return m(t,c)},isMainUrl:function(t){return m(t,s)},isOptionsUrl:function(t){return m(t,h)}},web:{isAppUrl:function(t){return m(t,x)}},browser:{canonicalBookmarksUrl:v(t,"bookmarks"),canonicalDownloadsUrl:v(t,"downloads"),canonicalExtensionsUrl:v(t,"extensions"),canonicalHistoryUrl:v(t,"history"),canonicalNewtabUrl:v(t,"newtab"),canonicalSettingsUrl:v(t,"settings"),isFeatureUrl:function(t,e){return e?m(t,n[e]):g(t,r.feature)},isExtensionUrl:function(t,e){if(e){var n=e.toLowerCase();return m(t,r.extension.map((function(t){return b(t,n)})))}return g(t,r.extension)}}}}())}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=[],o=y(t);h(t.schemes.extension,[o]);for(var u=0,c=Object.values(a);u<c.length;u++){var s=c[u],f=s.appStores.map((function(t){return i.ext.appStoreProfiles[t].extensionId}));h(s.schemes.extension,f)}return Object(l.m)(n);function h(t,o){var i,a=Object(r.a)(t);try{for(a.s();!(i=a.n()).done;){var u,c=i.value,s=Object(r.a)(o);try{for(s.s();!(u=s.n()).done;){var l,f=u.value,h=Object(r.a)(e);try{for(h.s();!(l=h.n()).done;){var d=l.value;n.push(b(c,f,d).toLowerCase())}}catch(p){h.e(p)}finally{h.f()}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){a.e(p)}finally{a.f()}}}function p(t,e){return b(t.schemes.extension[0],y(t),e)}function v(t,e){return t.urls[e][0]}function y(t){var e,n;return(null===(e=globalThis.chrome)||void 0===e||null===(n=e.runtime)||void 0===n?void 0:n.id)?chrome.runtime.id:i.ext.appStoreProfiles[t.appStores[0]].extensionId}function b(t,e,n){return"".concat(t,"://").concat(e).concat(n?"/".concat(n):"")}function m(t,e){if(!t)return!1;var n=t.toLowerCase();return e.some((function(t){return Object(s.i)(n,t)}))}function g(t,e){if(!t)return!1;var n=Object(s.a)(t).toLowerCase();return!!n&&e.some((function(t){return t===n}))}n.d(e,"a",(function(){return h}))},function(t,e,n){"use strict";function r(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r={"snapshot-scheduled":"snapshot","snapshot-manual":"manual snapshot","tab-navigated":"tab navigated","tab-moved":"tab moved","tabs-moved":"tabs moved","tab-opened":"tab opened","tabs-opened":"tabs opened","window-opened":"window opened","windows-opened":"windows opened","tabs-changed":"tabs changed","browser-closed":"browser closed","windows-closed":"windows closed","window-closed":"window closed","tabs-closed":"tabs closed","tab-closed":"tab closed"},o={clientHistoryItemType:function(t){return r[t]}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(35),o=n(48),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},,function(t){t.exports=JSON.parse('{"brave":{"browsers":["brave"],"appStores":["googleChromeWebStore"],"urls":{"bookmarks":["brave://bookmarks"],"downloads":["brave://downloads"],"extensions":["brave://extensions"],"history":["brave://history"],"newtab":[],"settings":["brave://settings"]},"schemes":{"devTools":[],"extension":["chrome-extension"],"feature":["brave"]}},"chrome":{"browsers":["chrome","chromium"],"appStores":["googleChromeWebStore"],"urls":{"bookmarks":["chrome://bookmarks"],"downloads":["chrome://downloads"],"extensions":["chrome://extensions","chrome://chrome/extensions","chrome://settings/extensions"],"history":["chrome://history","chrome://chrome/history"],"newtab":["chrome://newtab"],"settings":["chrome://settings","chrome://chrome/settings"]},"schemes":{"devTools":["devtools","chrome-devtools"],"extension":["chrome-extension"],"feature":["chrome"]}},"edge":{"browsers":["edge"],"appStores":["microsoftAddOnStore","googleChromeWebStore"],"urls":{"bookmarks":["edge://favorites"],"downloads":["edge://downloads"],"extensions":["edge://extensions"],"history":["edge://history"],"newtab":["edge://newtab"],"settings":["edge://settings"]},"schemes":{"devTools":[],"extension":["chrome-extension","extension"],"feature":["edge"]}},"firefox":{"browsers":["firefox"],"appStores":["mozillaAddOnStore"],"urls":{"bookmarks":[],"downloads":[],"extensions":["about:addons"],"history":[],"newtab":["about:newtab"],"settings":["about:preferences"]},"schemes":{"devTools":[],"extension":["moz-extension"],"feature":["about"]}},"safari":{"browsers":["safari"],"appStores":["appleMacAppStore"],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"tor":{"browsers":["tor"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"vivaldi":{"browsers":["vivaldi"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"yandex":{"browsers":["yandex"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"arc":{"browsers":["arc"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}}}')},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=["Win32","Win64","Windows","WinCE"],o=["macOS","Macintosh","MacIntel","MacPPC","Mac68K"],i=["iPhone","iPad","iPod"];var a=function(){var t,e=(null===(t=globalThis.navigator.userAgentData)||void 0===t?void 0:t.platform)||globalThis.navigator.platform;return r.includes(e)?"windows":o.includes(e)?"mac":i.includes(e)?"ios":/Android/.test(globalThis.navigator.userAgent)?"android":/Linux/.test(e)?"linux":void 0}()},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return pr}));var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};function i(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,u=Object.keys,c=Array.isArray;function s(t,e){return"object"!==typeof e||u(e).forEach((function(n){t[n]=e[n]})),t}"undefined"===typeof Promise||a.Promise||(a.Promise=Promise);var l=Object.getPrototypeOf,f={}.hasOwnProperty;function h(t,e){return f.call(t,e)}function d(t,e){"function"===typeof e&&(e=e(l(t))),("undefined"===typeof Reflect?u:Reflect.ownKeys)(e).forEach((function(n){v(t,n,e[n])}))}var p=Object.defineProperty;function v(t,e,n,r){p(t,e,s(n&&h(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function y(t){return{from:function(e){return t.prototype=Object.create(e.prototype),v(t.prototype,"constructor",t),{extend:d.bind(null,t.prototype)}}}}var b=Object.getOwnPropertyDescriptor;function m(t,e){var n;return b(t,e)||(n=l(t))&&m(n,e)}var g=[].slice;function w(t,e,n){return g.call(t,e,n)}function x(t,e){return e(t)}function O(t){if(!t)throw new Error("Assertion Failed")}function j(t){a.setImmediate?setImmediate(t):setTimeout(t,0)}function _(t,e){if("string"===typeof e&&h(t,e))return t[e];if(!e)return t;if("string"!==typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=_(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var u=t[e.substr(0,a)];return null==u?void 0:_(u,e.substr(a+1))}}function k(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!==typeof e&&"length"in e){O("string"!==typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)k(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),u=e.substr(i+1);if(""===u)void 0===n?c(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var s=t[a];s&&h(t,a)||(s=t[a]={}),k(s,u,n)}}else void 0===n?c(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function E(t){var e={};for(var n in t)h(t,n)&&(e[n]=t[n]);return e}var S=[].concat;function L(t){return S.apply([],t)}var T="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(L([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return a[t]})),P=new Set(T.map((function(t){return a[t]})));function I(t){var e={};for(var n in t)if(h(t,n)){var r=t[n];e[n]=!r||"object"!==typeof r||P.has(r.constructor)?r:I(r)}return e}var C=null;function D(t){C=new WeakMap;var e=A(t);return C=null,e}function A(t){if(!t||"object"!==typeof t)return t;var e=C.get(t);if(e)return e;if(c(t)){e=[],C.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(A(t[n]))}else if(P.has(t.constructor))e=t;else{var o=l(t);for(var i in e=o===Object.prototype?{}:Object.create(o),C.set(t,e),t)h(t,i)&&(e[i]=A(t[i]))}return e}var N={}.toString;function M(t){return N.call(t).slice(8,-1)}var U="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",F="symbol"===typeof U?function(t){var e;return null!=t&&(e=t[U])&&e.apply(t)}:function(){return null};function K(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n>=0}var B={};function R(t){var e,n,r,o;if(1===arguments.length){if(c(t))return t.slice();if(this===B&&"string"===typeof t)return[t];if(o=F(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"===typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var W="undefined"!==typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],G=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(q),Y={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function z(t,e){this.name=t,this.message=e}function H(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function V(t,e,n,r){this.failures=e,this.failedKeys=r,this.successCount=n,this.message=H(t,e)}function Q(t,e){this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=H(t,this.failures)}y(z).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(V).from(z),y(Q).from(z);var X=G.reduce((function(t,e){return t[e]=e+"Error",t}),{}),$=z,J=G.reduce((function(t,e){var n=e+"Error";function r(t,r){this.name=n,t?"string"===typeof t?(this.message="".concat(t).concat(r?"\n "+r:""),this.inner=r||null):"object"===typeof t&&(this.message="".concat(t.name," ").concat(t.message),this.inner=t):(this.message=Y[e]||n,this.inner=null)}return y(r).from($),t[e]=r,t}),{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var Z=q.reduce((function(t,e){return t[e+"Error"]=J[e],t}),{});var tt=G.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=J[e]),t}),{});function et(){}function nt(t){return t}function rt(t,e){return null==t||t===nt?e:function(n){return e(t(n))}}function ot(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function it(t,e){return t===et?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ot(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ot(o,this.onerror):o),void 0!==i?i:n}}function at(t,e){return t===et?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ot(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ot(r,this.onerror):r)}}function ut(t,e){return t===et?e:function(n){var r=t.apply(this,arguments);s(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ot(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ot(i,this.onerror):i),void 0===r?void 0===a?void 0:a:s(r,a)}}function ct(t,e){return t===et?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function st(t,e){return t===et?e:function(){var n=t.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}}tt.ModifyError=V,tt.DexieError=z,tt.BulkError=Q;var lt="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ft(t,e){lt=t}var ht={},dt=100,pt="undefined"===typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[t,l(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,l(e),t]}(),vt=pt[0],yt=pt[1],bt=pt[2],mt=yt&&yt.then,gt=vt&&vt.constructor,wt=!!bt;var xt=function(t,e){Tt.push([t,e]),jt&&(queueMicrotask(Bt),jt=!1)},Ot=!0,jt=!0,_t=[],kt=[],Et=nt,St={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:et,pgp:!1,env:{},finalize:et},Lt=St,Tt=[],Pt=0,It=[];function Ct(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var e=this._PSD=Lt;if("function"!==typeof t){if(t!==ht)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Mt(this,this._value))}this._state=null,this._value=null,++e.ref,Nt(this,t)}var Dt={get:function(){var t=Lt,e=Xt;function n(n,r){var o=this,i=!t.global&&(t!==Lt||e!==Xt),a=i&&!te(),u=new Ct((function(e,u){Ft(o,new At(ue(n,t,i,a),ue(r,t,i,a),e,u,t))}));return this._consoleTask&&(u._consoleTask=this._consoleTask),u}return n.prototype=ht,n},set:function(t){v(this,"then",t&&t.prototype===ht?Dt:{get:function(){return t},set:Dt.set})}};function At(t,e,n,r,o){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function Nt(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Rt();e&&"function"===typeof e.then?Nt(t,(function(t,n){e instanceof Ct?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,Ut(t)),n&&Wt()}}),Mt.bind(null,t))}catch(n){Mt(t,n)}}function Mt(t,e){if(kt.push(e),null===t._state){var n=t._lib&&Rt();e=Et(e),t._state=!1,t._value=e,function(t){_t.some((function(e){return e._value===t._value}))||_t.push(t)}(t),Ut(t),n&&Wt()}}function Ut(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Ft(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===Pt&&(++Pt,xt((function(){0===--Pt&&qt()}),[]))}function Ft(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Pt,xt(Kt,[n,t,e])}else t._listeners.push(e)}function Kt(t,e,n){try{var r,o=e._value;!e._state&&kt.length&&(kt=[]),r=lt&&e._consoleTask?e._consoleTask.run((function(){return t(o)})):t(o),e._state||-1!==kt.indexOf(o)||function(t){var e=_t.length;for(;e;)if(_t[--e]._value===t._value)return void _t.splice(e,1)}(e),n.resolve(r)}catch(i){n.reject(i)}finally{0===--Pt&&qt(),--n.psd.ref||n.psd.finalize()}}function Bt(){ae(St,(function(){Rt()&&Wt()}))}function Rt(){var t=Ot;return Ot=!1,jt=!1,t}function Wt(){var t,e,n;do{for(;Tt.length>0;)for(t=Tt,Tt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Tt.length>0);Ot=!0,jt=!0}function qt(){var t=_t;_t=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=It.slice(0),n=e.length;n;)e[--n]()}function Gt(t){return new Ct(ht,!1,t)}function Yt(t,e){var n=Lt;return function(){var r=Rt(),o=Lt;try{return oe(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{oe(o,!1),r&&Wt()}}}d(Ct.prototype,{then:Dt,_then:function(t,e){Ft(this,new At(null,null,t,e,Lt))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"===typeof e?this.then(null,(function(t){return t instanceof e?n(t):Gt(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):Gt(t)}))},finally:function(t){return this.then((function(e){return Ct.resolve(t()).then((function(){return e}))}),(function(e){return Ct.resolve(t()).then((function(){return Gt(e)}))}))},timeout:function(t,e){var n=this;return t<1/0?new Ct((function(r,o){var i=setTimeout((function(){return o(new J.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&v(Ct.prototype,Symbol.toStringTag,"Dexie.Promise"),St.env=ie(),d(Ct,{all:function(){var t=R.apply(null,arguments).map(ee);return new Ct((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(o,i){return Ct.resolve(o).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){return t instanceof Ct?t:t&&"function"===typeof t.then?new Ct((function(e,n){t.then(e,n)})):new Ct(ht,!0,t)},reject:Gt,race:function(){var t=R.apply(null,arguments).map(ee);return new Ct((function(e,n){t.map((function(t){return Ct.resolve(t).then(e,n)}))}))},PSD:{get:function(){return Lt},set:function(t){return Lt=t}},totalEchoes:{get:function(){return Xt}},newPSD:Jt,usePSD:ae,scheduler:{get:function(){return xt},set:function(t){xt=t}},rejectionMapper:{get:function(){return Et},set:function(t){Et=t}},follow:function(t,e){return new Ct((function(n,r){return Jt((function(e,n){var r=Lt;r.unhandleds=[],r.onunhandled=n,r.finalize=ot((function(){var t=this;!function(t){function e(){t(),It.splice(It.indexOf(e),1)}It.push(e),++Pt,xt((function(){0===--Pt&&qt()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),gt&&(gt.allSettled&&v(Ct,"allSettled",(function(){var t=R.apply(null,arguments).map(ee);return new Ct((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,o){return Ct.resolve(t).then((function(t){return r[o]={status:"fulfilled",value:t}}),(function(t){return r[o]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),gt.any&&"undefined"!==typeof AggregateError&&v(Ct,"any",(function(){var t=R.apply(null,arguments).map(ee);return new Ct((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(t,i){return Ct.resolve(t).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})),gt.withResolvers&&(Ct.withResolvers=gt.withResolvers));var zt={awaits:0,echoes:0,id:0},Ht=0,Vt=[],Qt=0,Xt=0,$t=0;function Jt(t,e,n,r){var o=Lt,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++$t,St.env,i.env=wt?{Promise:Ct,PromiseProp:{value:Ct,configurable:!0,writable:!0},all:Ct.all,race:Ct.race,allSettled:Ct.allSettled,any:Ct.any,resolve:Ct.resolve,reject:Ct.reject}:{},e&&s(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ae(i,t,n,r);return 0===i.ref&&i.finalize(),a}function Zt(){return zt.id||(zt.id=++Ht),++zt.awaits,zt.echoes+=dt,zt.id}function te(){return!!zt.awaits&&(0===--zt.awaits&&(zt.id=0),zt.echoes=zt.awaits*dt,!0)}function ee(t){return zt.echoes&&t&&t.constructor===gt?(Zt(),t.then((function(t){return te(),t}),(function(t){return te(),se(t)}))):t}function ne(t){++Xt,zt.echoes&&0!==--zt.echoes||(zt.echoes=zt.awaits=zt.id=0),Vt.push(Lt),oe(t,!0)}function re(){var t=Vt[Vt.length-1];Vt.pop(),oe(t,!1)}function oe(t,e){var n=Lt;if((e?!zt.echoes||Qt++&&t===Lt:!Qt||--Qt&&t===Lt)||queueMicrotask(e?ne.bind(null,t):re),t!==Lt&&(Lt=t,n===St&&(St.env=ie()),wt)){var r=St.env.Promise,o=t.env;(n.global||t.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function ie(){var t=a.Promise;return wt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function ae(t,e,n,r,o){var i=Lt;try{return oe(t,!0),e(n,r,o)}finally{oe(i,!1)}}function ue(t,e,n,r){return"function"!==typeof t?t:function(){var o=Lt;n&&Zt(),oe(e,!0);try{return t.apply(this,arguments)}finally{oe(o,!1),r&&queueMicrotask(te)}}}function ce(t){Promise===gt&&0===zt.echoes?0===Qt?t():enqueueNativeMicroTask(t):setTimeout(t,0)}-1===(""+mt).indexOf("[native code]")&&(Zt=te=et);var se=Ct.reject;function le(t,e,n,r){if(t.idbdb&&(t._state.openComplete||Lt.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===X.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then((function(){return le(t,e,n,r)}))):se(i)}return o._promise(e,(function(t,e){return Jt((function(){return Lt.trans=o,r(t,e,o)}))})).then((function(t){if("readwrite"===e)try{o.idbtrans.commit()}catch(_n){}return"readonly"===e?t:o._completion.then((function(){return t}))}))}if(t._state.openComplete)return se(new J.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return se(new J.DatabaseClosed);t.open().catch(et)}return t._state.dbReadyPromise.then((function(){return le(t,e,n,r)}))}var fe="4.0.11",he=String.fromCharCode(65535),de=-1/0,pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ve="String expected.",ye=[],be="__dbnames",me="readonly",ge="readwrite";function we(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var xe={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Oe(t){return"string"!==typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=D(e))[t],e}}function je(){throw J.Type()}function _e(t,e){try{var n=ke(t),r=ke(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(Ee(t),Ee(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i){var a=_e(t[i],e[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(t,e)}}catch(_n){}return NaN}function ke(t){var e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=M(t);return"ArrayBuffer"===n?"binary":n}function Ee(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Se=function(){function t(){}return t.prototype._trans=function(t,e,n){var r=this._tx||Lt.trans,o=this.name,i=lt&&"undefined"!==typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===t?"read":"write"," ").concat(this.name));function a(t,n,r){if(!r.schema[o])throw new J.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var u=Rt();try{var c=r&&r.db._novip===this.db._novip?r===Lt.trans?r._promise(t,a,n):Jt((function(){return r._promise(t,a,n)}),{trans:r,transless:Lt.transless||Lt}):le(this.db,t,[this.name],a);return i&&(c._consoleTask=i,c=c.catch((function(t){return console.trace(t),se(t)}))),c}finally{u&&Wt()}},t.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):null==t?se(new J.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},t.prototype.where=function(t){if("string"===typeof t)return new this.db.WhereClause(this,t);if(c(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=u(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){if(t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))){for(var n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1})).sort((function(t,e){return t.keyPath.length-e.keyPath.length}))[0];if(n&&this.db._maxKey!==he){var r=n.keyPath.slice(0,e.length);return this.where(r).equals(r.map((function(e){return t[e]})))}!n&&lt&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(e.join("+"),"]"));var o=this.schema.idxByName;function i(t,e){return 0===_e(t,e)}var a=e.reduce((function(e,n){var r=e[0],a=e[1],u=o[n],s=t[n];return[r||u,r||!u?we(a,u&&u.multi?function(t){var e=_(t,n);return c(e)&&e.some((function(t){return i(s,t)}))}:function(t){return i(s,_(t,n))}):a]}),[null,null]),s=a[0],l=a[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(l):n?this.filter(l):this.where(e).equals("")},t.prototype.filter=function(t){return this.toCollection().and(t)},t.prototype.count=function(t){return this.toCollection().count(t)},t.prototype.offset=function(t){return this.toCollection().offset(t)},t.prototype.limit=function(t){return this.toCollection().limit(t)},t.prototype.each=function(t){return this.toCollection().each(t)},t.prototype.toArray=function(t){return this.toCollection().toArray(t)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,c(t)?"[".concat(t.join("+"),"]"):t))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(t){var e=this.db,n=this.name;this.schema.mappedClass=t,t.prototype instanceof je&&(t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(o,t),Object.defineProperty(o.prototype,"db",{get:function(){return e},enumerable:!1,configurable:!0}),o.prototype.table=function(){return n},o}(t));for(var o=new Set,i=t.prototype;i;i=l(i))Object.getOwnPropertyNames(i).forEach((function(t){return o.add(t)}));var a=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(!o.has(r))try{n[r]=e[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=a,this.hook("reading",a),t},t.prototype.defineClass=function(){return this.mapToClass((function(t){s(this,t)}))},t.prototype.add=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Oe(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[a]})})).then((function(t){return t.numFailures?Ct.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{k(t,i,e)}catch(n){}return e}))},t.prototype.update=function(t,e){if("object"!==typeof t||c(t))return this.where(":id").equals(t).modify(e);var n=_(t,this.schema.primKey.keyPath);return void 0===n?se(new J.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)},t.prototype.put=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Oe(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[a],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?Ct.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{k(t,i,e)}catch(n){}return e}))},t.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?Ct.reject(t.failures[0]):void 0}))},t.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:xe})})).then((function(t){return t.numFailures?Ct.reject(t.failures[0]):void 0}))},t.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},t.prototype.bulkAdd=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var c=t.length,s=u&&a?t.map(Oe(u)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:s,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Q("".concat(r.name,".bulkAdd(): ").concat(e," of ").concat(c," operations failed"),a)}))}))},t.prototype.bulkPut=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var c=t.length,s=u&&a?t.map(Oe(u)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:s,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Q("".concat(r.name,".bulkPut(): ").concat(e," of ").concat(c," operations failed"),a)}))}))},t.prototype.bulkUpdate=function(t){var e=this,n=this.core,r=t.map((function(t){return t.key})),o=t.map((function(t){return t.changes})),i=[];return this._trans("readwrite",(function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then((function(u){var c=[],s=[];t.forEach((function(t,n){var r=t.key,o=t.changes,a=u[n];if(a){for(var l=0,f=Object.keys(o);l<f.length;l++){var h=f[l],d=o[h];if(h===e.schema.primKey.keyPath){if(0!==_e(d,r))throw new J.Constraint("Cannot update primary key in bulkUpdate()")}else k(a,h,d)}i.push(n),c.push(r),s.push(a)}}));var l=c.length;return n.mutate({trans:a,type:"put",keys:c,values:s,updates:{keys:r,changeSpecs:o}}).then((function(t){var n=t.numFailures,r=t.failures;if(0===n)return l;for(var o=0,a=Object.keys(r);o<a.length;o++){var u=a[o],c=i[Number(u)];if(null!=c){var s=r[u];delete r[u],r[c]=s}}throw new Q("".concat(e.name,".bulkUpdate(): ").concat(n," of ").concat(l," operations failed"),r)}))}))}))},t.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,i=t.failures;if(0===r)return o;throw new Q("".concat(e.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))},t}();function Le(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"===typeof n)return e[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(t,r,o){if("object"!==typeof t){var a;r||(r=ct),o||(o=et);var s={subscribers:[],fire:o,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=r(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter((function(e){return e!==t})),s.fire=s.subscribers.reduce(r,o)}};return e[t]=n[t]=s,s}u(a=t).forEach((function(t){var e=a[t];if(c(e))i(t,a[t][0],a[t][1]);else{if("asap"!==e)throw new J.InvalidArgument("Invalid event config");var n=i(t,nt,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){j((function(){t.apply(null,e)}))}))}))}}))}}function Te(t,e){return y(e).from({prototype:t}),e}function Pe(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Ie(t,e){t.filter=we(t.filter,e)}function Ce(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return we(r(),e())}:e,t.justLimit=n&&!r}function De(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new J.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ae(t,e,n){var r=De(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function Ne(t,e,n,r){var o=t.replayFilter?we(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},a=function(t,n,r){if(!o||o(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),h(i,u)||(i[u]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),Me(Ae(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Me(Ae(t,r,n),we(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function Me(t,e,n,r){var o=Yt(r?function(t,e,o){return n(r(t),e,o)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=et}),(function(e){t.fail(e),n=et}))||o(t.value,t,(function(t){return n=t})),n()}))}))}var Ue=function(){function t(t){this["@@propmod"]=t}return t.prototype.execute=function(t){var e,n=this["@@propmod"];if(void 0!==n.add){var r=n.add;if(c(r))return i(i([],c(t)?t:[],!0),r,!0).sort();if("number"===typeof r)return(Number(t)||0)+r;if("bigint"===typeof r)try{return BigInt(t)+r}catch(u){return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(void 0!==n.remove){var o=n.remove;if(c(o))return c(t)?t.filter((function(t){return!o.includes(t)})).sort():[];if("number"===typeof o)return Number(t)-o;if("bigint"===typeof o)try{return BigInt(t)-o}catch(s){return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}var a=null===(e=n.replacePrefix)||void 0===e?void 0:e[0];return a&&"string"===typeof t&&t.startsWith(a)?n.replacePrefix[1]+t.substring(a.length):t},t}(),Fe=function(){function t(){}return t.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,se.bind(null,n.error)):n.table._trans("readonly",t).then(e)},t.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,se.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},t.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=we(e.algorithm,t)},t.prototype._iterate=function(t,e){return Ne(this._ctx,t,e,this._ctx.table.core)},t.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&s(n,t),e._ctx=n,e},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return Ne(e,t,n,e.table.core)}))},t.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(Pe(n,!0))return r.count({trans:t,query:{index:De(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return Ne(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)},t.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function u(t,e){return _e(i(t,o),i(e,o))*a}return this.toArray((function(t){return t.sort(u)})).then(e)},t.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&Pe(n,!0)&&n.limit>0){var r=n.valueMapper,o=De(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var i=[];return Ne(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)},t.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,Pe(e)?Ce(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):Ce(e,(function(){var e=t;return function(){return--e<0}}))),this},t.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ce(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this},t.prototype.until=function(t,e){return Ie(this._ctx,(function(n,r,o){return!t(n.value)||(r(o),e)})),this},t.prototype.first=function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},t.prototype.last=function(t){return this.reverse().first(t)},t.prototype.filter=function(t){var e,n;return Ie(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=we(e.isMatch,n),this},t.prototype.and=function(t){return this.filter(t)},t.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},t.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},t.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},t.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},t.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},t.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&Pe(e,!0)&&e.limit>0)return this._read((function(t){var n=De(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},t.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},t.prototype.firstKey=function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},t.prototype.lastKey=function(t){return this.reverse().firstKey(t)},t.prototype.distinct=function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Ie(this._ctx,(function(t){var e=t.primaryKey.toString(),r=h(n,e);return n[e]=!0,!r})),this},t.prototype.modify=function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"===typeof t)o=t;else{var i=u(t),a=i.length;o=function(e){for(var n=!1,r=0;r<a;++r){var o=i[r],u=t[o],c=_(e,o);u instanceof Ue?(k(e,o,u.execute(c)),n=!0):c!==u&&(k(e,o,u),n=!0)}return n}}var c=n.table.core,s=c.schema.primaryKey,l=s.outbound,f=s.extractKey,h=200,d=e.db._options.modifyChunkSize;d&&(h="object"==typeof d?d[c.name]||d["*"]||200:d);var p=[],v=0,y=[],b=function(t,e){var n=e.failures,r=e.numFailures;v+=t-r;for(var o=0,i=u(n);o<i.length;o++){var a=i[o];p.push(n[a])}};return e.clone().primaryKeys().then((function(e){var i=Pe(n)&&n.limit===1/0&&("function"!==typeof t||t===Ke)&&{index:n.index,range:n.range};return function n(a){var u=Math.min(h,e.length-a);return c.getMany({trans:r,keys:e.slice(a,a+u),cache:"immutable"}).then((function(s){for(var d=[],p=[],v=l?[]:null,y=[],m=0;m<u;++m){var g=s[m],w={value:D(g),primKey:e[a+m]};!1!==o.call(w,w.value,w)&&(null==w.value?y.push(e[a+m]):l||0===_e(f(g),f(w.value))?(p.push(w.value),l&&v.push(e[a+m])):(y.push(e[a+m]),d.push(w.value)))}return Promise.resolve(d.length>0&&c.mutate({trans:r,type:"add",values:d}).then((function(t){for(var e in t.failures)y.splice(parseInt(e),1);b(d.length,t)}))).then((function(){return(p.length>0||i&&"object"===typeof t)&&c.mutate({trans:r,type:"put",keys:v,values:p,criteria:i,changeSpec:"function"!==typeof t&&t,isAdditionalChunk:a>0}).then((function(t){return b(p.length,t)}))})).then((function(){return(y.length>0||i&&t===Ke)&&c.mutate({trans:r,type:"delete",keys:y,criteria:i,isAdditionalChunk:a>0}).then((function(t){return b(y.length,t)}))})).then((function(){return e.length>a+u&&n(a+h)}))}))}(0).then((function(){if(p.length>0)throw new V("Error modifying one or more objects",p,v,y);return e.length}))}))}))},t.prototype.delete=function(){var t=this._ctx,e=t.range;return Pe(t)&&(t.isPrimKey||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures;t.lastResult,t.results;var r=t.numFailures;if(r)throw new V("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(Ke)},t}(),Ke=function(t,e){return e.value=null};function Be(t,e){return t<e?-1:t===e?0:1}function Re(t,e){return t>e?-1:t===e?0:1}function We(t,e,n){var r=t instanceof Ve?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function qe(t){return new t.Collection(t,(function(){return He("")})).limit(0)}function Ge(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),u=-1,c=0;c<a;++c){var s=e[c];if(s!==r[c])return o(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):o(t[c],r[c])<0?t.substr(0,c)+r[c]+n.substr(c+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;o(t[c],s)<0&&(u=c)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)}function Ye(t,e,n,r){var o,i,a,u,c,s,l,f=n.length;if(!n.every((function(t){return"string"===typeof t})))return We(t,ve);function h(t){o=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),i=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?Be:Re;var e=n.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));u=e.map((function(t){return t.upper})),c=e.map((function(t){return t.lower})),s=t,l="next"===t?"":r}h("next");var d=new t.Collection(t,(function(){return ze(u[0],c[f-1]+r)}));d._ondirectionchange=function(t){h(t)};var p=0;return d._addAlgorithm((function(t,n,r){var o=t.key;if("string"!==typeof o)return!1;var h=i(o);if(e(h,c,p))return!0;for(var d=null,v=p;v<f;++v){var y=Ge(o,h,u[v],c[v],a,s);null===y&&null===d?p=v+1:(null===d||a(d,y)>0)&&(d=y)}return n(null!==d?function(){t.continue(d+l)}:r),!1})),d}function ze(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function He(t){return{type:1,lower:t,upper:t}}var Ve=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?qe(this):new this.Collection(this,(function(){return ze(t,e,!n,!r)}))}catch(o){return We(this,pe)}},t.prototype.equals=function(t){return null==t?We(this,pe):new this.Collection(this,(function(){return He(t)}))},t.prototype.above=function(t){return null==t?We(this,pe):new this.Collection(this,(function(){return ze(t,void 0,!0)}))},t.prototype.aboveOrEqual=function(t){return null==t?We(this,pe):new this.Collection(this,(function(){return ze(t,void 0,!1)}))},t.prototype.below=function(t){return null==t?We(this,pe):new this.Collection(this,(function(){return ze(void 0,t,!1,!0)}))},t.prototype.belowOrEqual=function(t){return null==t?We(this,pe):new this.Collection(this,(function(){return ze(void 0,t)}))},t.prototype.startsWith=function(t){return"string"!==typeof t?We(this,ve):this.between(t,t+he,!0,!0)},t.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):Ye(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],he)},t.prototype.equalsIgnoreCase=function(t){return Ye(this,(function(t,e){return t===e[0]}),[t],"")},t.prototype.anyOfIgnoreCase=function(){var t=R.apply(B,arguments);return 0===t.length?qe(this):Ye(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var t=R.apply(B,arguments);return 0===t.length?qe(this):Ye(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,he)},t.prototype.anyOf=function(){var t=this,e=R.apply(B,arguments),n=this._cmp;try{e.sort(n)}catch(i){return We(this,pe)}if(0===e.length)return qe(this);var r=new this.Collection(this,(function(){return ze(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var o=0;return r._addAlgorithm((function(t,r,i){for(var a=t.key;n(a,e[o])>0;)if(++o===e.length)return r(i),!1;return 0===n(a,e[o])||(r((function(){t.continue(e[o])})),!1)})),r},t.prototype.notEqual=function(t){return this.inAnyRange([[de,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var t=R.apply(B,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(n){return We(this,pe)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[de,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===t.length)return qe(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return We(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);var c=!e||!1!==e.includeLowers,s=e&&!0===e.includeUppers;var l,f=o;function h(t,e){return f(t[0],e[0])}try{l=t.reduce((function(t,e){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=a(i[0],e[0]),i[1]=u(i[1],e[1]);break}}return n===o&&t.push(e),t}),[]),l.sort(h)}catch(m){return We(this,pe)}var d=0,p=s?function(t){return o(t,l[d][1])>0}:function(t){return o(t,l[d][1])>=0},v=c?function(t){return i(t,l[d][0])>0}:function(t){return i(t,l[d][0])>=0};var y=p,b=new this.Collection(this,(function(){return ze(l[0][0],l[l.length-1][1],!c,!s)}));return b._ondirectionchange=function(t){"next"===t?(y=p,f=o):(y=v,f=i),l.sort(h)},b._addAlgorithm((function(t,e,r){for(var i=t.key;y(i);)if(++d===l.length)return e(r),!1;return!!function(t){return!p(t)&&!v(t)}(i)||(0===n._cmp(i,l[d][1])||0===n._cmp(i,l[d][0])||e((function(){f===o?t.continue(l[d][0]):t.continue(l[d][1])})),!1)})),b},t.prototype.startsWithAnyOf=function(){var t=R.apply(B,arguments);return t.every((function(t){return"string"===typeof t}))?0===t.length?qe(this):this.inAnyRange(t.map((function(t){return[t,t+he]}))):We(this,"startsWithAnyOf() only works with strings")},t}();function Qe(t){return Yt((function(e){return Xe(e),t(e.target.error),!1}))}function Xe(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var $e="storagemutated",Je="x-storagemutated-1",Ze=Le(null,$e),tn=function(){function t(){}return t.prototype._lock=function(){return O(!Lt.global),++this._reculock,1!==this._reculock||Lt.global||(Lt.lockOwnerFor=this),this},t.prototype._unlock=function(){if(O(!Lt.global),0===--this._reculock)for(Lt.global||(Lt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ae(t[1],t[0])}catch(e){}}return this},t.prototype._locked=function(){return this._reculock&&Lt.lockOwnerFor!==this},t.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(O(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new J.DatabaseClosed(r);case"MissingAPIError":throw new J.MissingAPI(r.message,r);default:throw new J.OpenFailed(r)}if(!this.active)throw new J.TransactionInactive;return O(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Yt((function(n){Xe(n),e._reject(t.error)})),t.onabort=Yt((function(n){Xe(n),e.active&&e._reject(new J.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=Yt((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&Ze.storagemutated.fire(t.mutatedParts)})),this},t.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return se(new J.ReadOnly("Transaction is readonly"));if(!this.active)return se(new J.TransactionInactive);if(this._locked())return new Ct((function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},Lt])}));if(n)return Jt((function(){var t=new Ct((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var o=new Ct((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(t){var e=this._root(),n=Ct.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new Ct((function(t,r){n.then((function(n){return e._waitingQueue.push(Yt(t.bind(null,n)))}),(function(t){return e._waitingQueue.push(Yt(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new J.Abort))},t.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(h(e,t))return e[t];var n=this.schema[t];if(!n)throw new J.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r},t}();function en(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+nn(e)}}function nn(t){return"string"===typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function rn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:(r=n,o=function(t){return[t.name,t]},r.reduce((function(t,e,n){var r=o(e,n);return r&&(t[r[0]]=r[1]),t}),{}))};var r,o}var on=function(t){try{return t.only([[]]),on=function(){return[[]]},[[]]}catch(e){return on=function(){return he},he}};function an(t){return null==t?function(){}:"string"===typeof t?function(t){var e=t.split(".");return 1===e.length?function(e){return e[t]}:function(e){return _(e,t)}}(t):function(e){return _(e,t)}}function un(t){return[].slice.call(t)}var cn=0;function sn(t){return null==t?":id":"string"===typeof t?t:"[".concat(t.join("+"),"]")}function ln(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!i):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!i)}var o=function(t,e){var n=un(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((function(t){return e.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=c(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:an(e)},indexes:un(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:c(o),keyPath:o,unique:n,multiEntry:r,extractKey:an(o)};return i[sn(o)]=a,a})),getIndexByKeyPath:function(t){return i[sn(t)]}};return i[":id"]=a.primaryKey,null!=e&&(i[sn(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(t){return function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,o=t.type,i=t.keys,a=t.values,u=t.range;return new Promise((function(t,c){t=Yt(t);var s=n.objectStore(e),l=null==s.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h,d=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var p=[],v=[],y=0,b=function(t){++y,Xe(t)};if("deleteRange"===o){if(4===u.type)return t({numFailures:y,failures:v,results:[],lastResult:void 0});3===u.type?p.push(h=s.clear()):p.push(h=s.delete(r(u)))}else{var m=f?l?[a,i]:[a,null]:[i,null],g=m[0],w=m[1];if(f)for(var x=0;x<d;++x)p.push(h=w&&void 0!==w[x]?s[o](g[x],w[x]):s[o](g[x])),h.onerror=b;else for(x=0;x<d;++x)p.push(h=s[o](g[x])),h.onerror=b}var O=function(e){var n=e.target.result;p.forEach((function(t,e){return null!=t.error&&(v[e]=t.error)})),t({numFailures:y,failures:v,results:"delete"===o?i:p.map((function(t){return t.result})),lastResult:n})};h.onerror=function(t){b(t),O(t)},h.onsuccess=O}))},getMany:function(t){var n=t.trans,r=t.keys;return new Promise((function(t,o){t=Yt(t);for(var i,a=n.objectStore(e),u=r.length,c=new Array(u),s=0,l=0,f=function(e){var n=e.target;c[n._pos]=n.result,++l===s&&t(c)},h=Qe(o),d=0;d<u;++d)null!=r[d]&&((i=a.get(r[d]))._pos=d,i.onsuccess=f,i.onerror=h,++s);0===s&&t(c)}))},get:function(t){var n=t.trans,r=t.key;return new Promise((function(t,o){t=Yt(t);var i=n.objectStore(e).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=Qe(o)}))},query:function(t){return function(n){return new Promise((function(o,i){o=Yt(o);var a=n.trans,u=n.values,c=n.limit,s=n.query,l=c===1/0?void 0:c,f=s.index,h=s.range,d=a.objectStore(e),p=f.isPrimaryKey?d:d.index(f.name),v=r(h);if(0===c)return o({result:[]});if(t){var y=u?p.getAll(v,l):p.getAllKeys(v,l);y.onsuccess=function(t){return o({result:t.target.result})},y.onerror=Qe(i)}else{var b=0,m=u||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),g=[];m.onsuccess=function(t){var e=m.result;return e?(g.push(u?e.value:e.primaryKey),++b===c?o({result:g}):void e.continue()):o({result:g})},m.onerror=Qe(i)}}))}}(a),openCursor:function(t){var n=t.trans,o=t.values,i=t.query,a=t.reverse,u=t.unique;return new Promise((function(t,c){t=Yt(t);var s=i.index,l=i.range,f=n.objectStore(e),h=s.isPrimaryKey?f:f.index(s.name),d=a?u?"prevunique":"prev":u?"nextunique":"next",p=o||!("openKeyCursor"in h)?h.openCursor(r(l),d):h.openKeyCursor(r(l),d);p.onerror=Qe(c),p.onsuccess=Yt((function(e){var r=p.result;if(r){r.___id=++cn,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Yt(c),r.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},r.start=function(t){var e=new Promise((function(t,e){t=Yt(t),p.onerror=Qe(e),r.fail=e,r.stop=function(e){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,t(e)}})),n=function(){if(p.result)try{t()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=Yt((function(t){p.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),e},t(r)}else t(null)}),c)}))},count:function(t){var n=t.query,o=t.trans,i=n.index,a=n.range;return new Promise((function(t,n){var u=o.objectStore(e),c=i.isPrimaryKey?u:u.index(i.name),s=r(a),l=s?c.count(s):c.count();l.onsuccess=Yt((function(e){return t(e.target.result)})),l.onerror=Qe(n)}))}}}(t)})),s={};return u.forEach((function(t){return s[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!s[t])throw new Error("Table '".concat(t,"' not found"));return s[t]},MIN_KEY:-1/0,MAX_KEY:on(e),schema:i}}function fn(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var a=function(t,e){return e.reduce((function(t,e){var n=e.create;return o(o({},t),n(t))}),t)}(ln(e,i,r),t.dbcore);return{dbcore:a}}function hn(t,e){var n=e.db,r=fn(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach((function(e){var n=e.name;t.core.schema.tables.some((function(t){return t.name===n}))&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))}))}function dn(t,e,n,r){n.forEach((function(n){var o=r[n];e.forEach((function(e){var r=m(e,n);(!r||"value"in r&&void 0===r.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?v(e,n,{get:function(){return this.table(n)},set:function(t){p(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,o))}))}))}function pn(t,e){e.forEach((function(e){for(var n in e)e[n]instanceof t.Table&&delete e[n]}))}function vn(t,e){return t._cfg.version-e._cfg.version}function yn(t,e,n,r){var o=t._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=rn("$meta",jn("")[0],[]),t._storeNames.push("$meta"));var i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),c=Lt.transless||Lt;Jt((function(){if(Lt.trans=i,Lt.transless=c,0!==e)return hn(t,n),function(t,e,n){return e.storeNames.includes("$meta")?e.table("$meta").get("version").then((function(t){return null!=t?t:n})):Ct.resolve(n)}(0,i,e).then((function(e){return function(t,e,n,r){var o=[],i=t._versions,a=t._dbSchema=xn(t,t.idbdb,r),c=i.filter((function(t){return t._cfg.version>=e}));if(0===c.length)return Ct.resolve();function s(){return o.length?Ct.resolve(o.shift()(n.idbtrans)).then(s):Ct.resolve()}return c.forEach((function(i){o.push((function(){var o=a,c=i._cfg.dbschema;On(t,o,r),On(t,c,r),a=t._dbSchema=c;var s=bn(o,c);s.add.forEach((function(t){mn(r,t[0],t[1].primKey,t[1].indexes)})),s.change.forEach((function(t){if(t.recreate)throw new J.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return wn(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),wn(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var l=i._cfg.contentUpgrade;if(l&&i._cfg.version>e){hn(t,r),n._memoizedTables={};var f=E(c);s.del.forEach((function(t){f[t]=o[t]})),pn(t,[t.Transaction.prototype]),dn(t,[t.Transaction.prototype],u(f),f),n.schema=f;var h,d=W(l);d&&Zt();var p=Ct.follow((function(){if((h=l(n))&&d){var t=te.bind(null,null);h.then(t,t)}}));return h&&"function"===typeof h.then?Ct.resolve(h):p.then((function(){return h}))}})),o.push((function(e){!function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(i._cfg.dbschema,e),pn(t,[t.Transaction.prototype]),dn(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})),o.push((function(e){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===i._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter((function(t){return"$meta"!==t}))):e.objectStore("$meta").put(i._cfg.version,"version"))}))})),s().then((function(){gn(a,r)}))}(t,e,i,n)})).catch(a);u(o).forEach((function(t){mn(n,t,o[t].primKey,o[t].indexes)})),hn(t,n),Ct.follow((function(){return t.on.populate.fire(i)})).catch(a)}))}function bn(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!==""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,c=i.idxByName,s=void 0;for(s in u)c[s]||a.del.push(s);for(s in c){var l=u[s],f=c[s];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function mn(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return wn(o,t)})),o}function gn(t,e){u(t).forEach((function(n){e.db.objectStoreNames.contains(n)||(lt&&console.debug("Dexie: Creating missing table",n),mn(e,n,t[n].primKey,t[n].indexes))}))}function wn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function xn(t,e,n){var r={};return w(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,i=en(nn(o),o||"",!0,!1,!!e.autoIncrement,o&&"string"!==typeof o,!0),a=[],u=0;u<e.indexNames.length;++u){var c=e.index(e.indexNames[u]);o=c.keyPath;var s=en(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!==typeof o,!1);a.push(s)}r[t]=rn(t,i,a)})),r}function On(t,e,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],u=n.objectStore(i);t._hasGetAll="getAll"in u;for(var c=0;c<u.indexNames.length;++c){var s=u.indexNames[c],l=u.index(s).keyPath,f="string"===typeof l?l:"["+w(l).join("+")+"]";if(e[i]){var h=e[i].idxByName[f];h&&(h.name=s,delete e[i].idxByName[f],e[i].idxByName[s]=h)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function jn(t){return t.split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return en(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),c(r),0===e)}))}var _n,kn=function(){function t(){}return t.prototype._parseStoresSpec=function(t,e){u(t).forEach((function(n){if(null!==t[n]){var r=jn(t[n]),o=r.shift();if(o.unique=!0,o.multi)throw new J.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string")})),e[n]=rn(n,o,r)}}))},t.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){s(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,pn(e,[e._allTables,e,e.Transaction.prototype]),dn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],u(o),o),e._storeNames=u(o),this},t.prototype.upgrade=function(t){return this._cfg.contentUpgrade=st(this._cfg.contentUpgrade||et,t),this},t}();function En(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new pr(be,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Sn(t){return t&&"function"===typeof t.databases}function Ln(t){return Jt((function(){return Lt.letThrough=!0,t()}))}function Tn(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function Pn(t){return!("from"in t)}var In=function t(e,n){if(!this){var r=new t;return e&&"d"in e&&s(r,e),r}s(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0})};function Cn(t,e,n){var r=_e(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Pn(t))return s(t,{from:e,to:n,d:1});var o=t.l,i=t.r;if(_e(n,t.from)<0)return o?Cn(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Nn(t);if(_e(e,t.to)>0)return i?Cn(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Nn(t);_e(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),_e(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;o&&!t.l&&Dn(t,o),i&&a&&Dn(t,i)}}function Dn(t,e){Pn(e)||function t(e,n){var r=n.from,o=n.to,i=n.l,a=n.r;Cn(e,r,o),i&&t(e,i),a&&t(e,a)}(t,e)}function An(t){var e=Pn(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&_e(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||_e(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Nn(t){var e,n,r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a="r"===i?"l":"r",u=o({},t),c=t[i];t.from=c.from,t.to=c.to,t[i]=c[i],u[i]=c[a],t[a]=u,u.d=Mn(u)}t.d=Mn(t)}function Mn(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}function Un(t,e){return u(e).forEach((function(n){t[n]?Dn(t[n],e[n]):t[n]=I(e[n])})),t}function Fn(t,e){return t.all||e.all||Object.keys(t).some((function(n){return e[n]&&function(t,e){var n=An(e),r=n.next();if(r.done)return!1;for(var o=r.value,i=An(t),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(_e(u.from,o.to)<=0&&_e(u.to,o.from)>=0)return!0;_e(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(e[n],t[n])}))}d(In.prototype,(_n={add:function(t){return Dn(this,t),this},addKey:function(t){return Cn(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return Cn(e,t,t)})),this},hasKey:function(t){var e=An(this).next(t).value;return e&&_e(e.from,t)<=0&&_e(e.to,t)>=0}},_n[U]=function(){return An(this)},_n));var Kn={},Bn={},Rn=!1;function Wn(t,e){Un(Bn,t),Rn||(Rn=!0,setTimeout((function(){Rn=!1;var t=Bn;Bn={},qn(t,!1)}),0))}function qn(t,e){void 0===e&&(e=!1);var n=new Set;if(t.all)for(var r=0,o=Object.values(Kn);r<o.length;r++){Gn(u=o[r],t,n,e)}else for(var i in t){var a=/^idb\:\/\/(.*)\/(.*)\//.exec(i);if(a){var u,c=a[1],s=a[2];(u=Kn["idb://".concat(c,"/").concat(s)])&&Gn(u,t,n,e)}}n.forEach((function(t){return t()}))}function Gn(t,e,n,r){for(var o=[],i=0,a=Object.entries(t.queries.query);i<a.length;i++){for(var u=a[i],c=u[0],s=[],l=0,f=u[1];l<f.length;l++){var h=f[l];Fn(e,h.obsSet)?h.subscribers.forEach((function(t){return n.add(t)})):r&&s.push(h)}r&&o.push([c,s])}if(r)for(var d=0,p=o;d<p.length;d++){var v=p[d];c=v[0],s=v[1];t.queries.query[c]=s}}function Yn(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?se(e.dbOpenError):t}));e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller,o=Math.round(10*t.verno),i=!1;function a(){if(e.openCanceller!==r)throw new J.DatabaseClosed("db.open() was cancelled")}var c=e.dbReadyResolve,s=null,l=!1;return Ct.race([r,("undefined"===typeof navigator?Ct.resolve():Tn()).then((function r(){return new Ct((function(c,f){if(a(),!n)throw new J.MissingAPI;var h=t.name,d=e.autoSchema||!o?n.open(h):n.open(h,o);if(!d)throw new J.MissingAPI;d.onerror=Qe(f),d.onblocked=Yt(t._fireOnBlocked),d.onupgradeneeded=Yt((function(r){if(s=d.transaction,e.autoSchema&&!t._options.allowEmptyDB){d.onerror=Xe,s.abort(),d.result.close();var o=n.deleteDatabase(h);o.onsuccess=o.onerror=Yt((function(){f(new J.NoSuchDatabase("Database ".concat(h," doesnt exist")))}))}else{s.onerror=Qe(f);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;l=a<1,t.idbdb=d.result,i&&function(t,e){gn(t._dbSchema,e),e.db.version%10!==0||e.objectStoreNames.contains("$meta")||e.db.createObjectStore("$meta").add(Math.ceil(e.db.version/10-1),"version");var n=xn(0,t.idbdb,e);On(t,t._dbSchema,e);for(var r=function(t){if(t.change.length||t.recreate)return console.warn("Unable to patch indexes of table ".concat(t.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=e.objectStore(t.name);t.add.forEach((function(e){lt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(t.name,".").concat(e.src)),wn(n,e)}))},o=0,i=bn(n,t._dbSchema).change;o<i.length;o++){var a=r(i[o]);if("object"===typeof a)return a.value}}(t,s),yn(t,a/10,s,f)}}),f),d.onsuccess=Yt((function(){s=null;var n,a=t.idbdb=d.result,f=w(a.objectStoreNames);if(f.length>0)try{var p=a.transaction(1===(n=f).length?n[0]:n,"readonly");if(e.autoSchema)!function(t,e,n){t.verno=e.version/10;var r=t._dbSchema=xn(0,e,n);t._storeNames=w(e.objectStoreNames,0),dn(t,[t._allTables],u(r),r)}(t,a,p);else if(On(t,t._dbSchema,p),!function(t,e){var n=bn(xn(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,p)&&!i)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),a.close(),o=a.version+1,i=!0,c(r());hn(t,p)}catch(v){}ye.push(t),a.onversionchange=Yt((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),a.onclose=Yt((function(e){t.on("close").fire(e)})),l&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Sn(n)&&e!==be&&En(n,r).put({name:e}).catch(et)}(t._deps,h),c()}),f)})).catch((function(t){switch(null===t||void 0===t?void 0:t.name){case"UnknownError":if(e.PR1398_maxLoop>0)return e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),r();break;case"VersionError":if(o>0)return o=0,r()}return Ct.reject(t)}))}))]).then((function(){return a(),e.onReadyBeingFired=[],Ct.resolve(Ln((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(st,et);return e.onReadyBeingFired=[],Ct.resolve(Ln((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.openCanceller===r&&(e.onReadyBeingFired=null,e.isBeingOpened=!1)})).catch((function(n){e.dbOpenError=n;try{s&&s.abort()}catch(_n){}return r===e.openCanceller&&t._close(),se(n)})).finally((function(){e.openComplete=!0,c()})).then((function(){if(l){var e={};t.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(e["idb://".concat(t.name,"/").concat(n.name,"/").concat(r.name)]=new In(-1/0,[[[]]]))})),e["idb://".concat(t.name,"/").concat(n.name,"/")]=e["idb://".concat(t.name,"/").concat(n.name,"/:dels")]=new In(-1/0,[[[]]])})),Ze($e).fire(e),qn(e,!0)}return t}))}function zn(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),i=o.value;return o.done?i:i&&"function"===typeof i.then?i.then(n,r):c(i)?Promise.all(i).then(n,r):n(i)}}return o(e)()}function Hn(t,e,n){var r=arguments.length;if(r<2)throw new J.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,L(o),n]}function Vn(t,e,n,r,o){return Ct.resolve().then((function(){var i=Lt.transless||Lt,a=t._createTransaction(e,n,t._dbSchema,r);a.explicit=!0;var u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(f){return f.name===X.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then((function(){return Vn(t,e,n,null,o)}))):se(f)}var c,s=W(o);s&&Zt();var l=Ct.follow((function(){if(c=o.call(a,a))if(s){var t=te.bind(null,null);c.then(t,t)}else"function"===typeof c.next&&"function"===typeof c.throw&&(c=zn(c))}),u);return(c&&"function"===typeof c.then?Ct.resolve(c).then((function(t){return a.active?t:se(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return c}))).then((function(t){return r&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),se(t)}))}))}function Qn(t,e,n){for(var r=c(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r}var Xn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return o(o({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},a=[];function u(t,e,n){var r=sn(t),c=i[r]=i[r]||[],s=null==t?0:"string"===typeof t?1:t.length,l=e>0,f=o(o({},n),{name:l?"".concat(r,"(virtual-from:").concat(n.name,")"):n.name,lowLevelIndex:n,isVirtual:l,keyTail:e,keyLength:s,extractKey:an(t),unique:!l&&n.unique});(c.push(f),f.isPrimaryKey||a.push(f),s>1)&&u(2===s?t[0]:t.slice(0,s-1),e+1,n);return c.sort((function(t,e){return t.keyTail-e.keyTail})),f}var c=u(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[c];for(var s=0,l=r.indexes;s<l.length;s++){var f=l[s];u(f.keyPath,0,f)}function h(e){var n,r,i=e.query.index;return i.isVirtual?o(o({},e),{query:{index:i.lowLevelIndex,range:(n=e.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:Qn(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,r),lowerOpen:!0,upper:Qn(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,r),upperOpen:!0})}}):e}var d=o(o({},n),{schema:o(o({},r),{primaryKey:c,indexes:a,getIndexByKeyPath:function(t){var e=i[sn(t)];return e&&e[0]}}),count:function(t){return n.count(h(t))},query:function(t){return n.query(h(t))},openCursor:function(e){var r=e.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;if(!i)return n.openCursor(e);return n.openCursor(h(e)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Qn(r,e.reverse?t.MAX_KEY:t.MIN_KEY,o)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(Qn(e,t.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===a?t[0]:t.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)}))}});return d}})}};function $n(t,e,n,r){return n=n||{},r=r||"",u(t).forEach((function(o){if(h(e,o)){var i=t[o],a=e[o];if("object"===typeof i&&"object"===typeof a&&i&&a){var u=M(i);u!==M(a)?n[r+o]=e[o]:"Object"===u?$n(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0})),u(e).forEach((function(o){h(t,o)||(n[r+o]=e[o])})),n}function Jn(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}var Zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return o(o({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,a=o(o({},n),{mutate:function(t){var a=Lt.trans,u=a.table(e).hook,c=u.deleting,s=u.creating,l=u.updating;switch(t.type){case"add":if(s.fire===et)break;return a._promise("readwrite",(function(){return f(t)}),!0);case"put":if(s.fire===et&&l.fire===et)break;return a._promise("readwrite",(function(){return f(t)}),!0);case"delete":if(c.fire===et)break;return a._promise("readwrite",(function(){return f(t)}),!0);case"deleteRange":if(c.fire===et)break;return a._promise("readwrite",(function(){return function(t){return d(t.trans,t.range,1e4)}(t)}),!0)}return n.mutate(t);function f(t){var e=Lt.trans,a=t.keys||Jn(r,t);if(!a)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?o(o({},t),{keys:a}):o({},t)).type&&(t.values=i([],t.values,!0)),t.keys&&(t.keys=i([],t.keys,!0)),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,a).then((function(o){var i=a.map((function(n,i){var a=o[i],u={onerror:null,onsuccess:null};if("delete"===t.type)c.fire.call(u,n,a,e);else if("add"===t.type||void 0===a){var f=s.fire.call(u,n,t.values[i],e);null==n&&null!=f&&(n=f,t.keys[i]=n,r.outbound||k(t.values[i],r.keyPath,n))}else{var d=$n(a,t.values[i]),p=l.fire.call(u,d,n,a,e);if(p){var v=t.values[i];Object.keys(p).forEach((function(t){h(v,t)?v[t]=p[t]:k(v,t,p[t])}))}}return u}));return n.mutate(t).then((function(e){for(var n=e.failures,r=e.results,u=e.numFailures,c=e.lastResult,s=0;s<a.length;++s){var l=r?r[s]:a[s],f=i[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===t.type&&o[s]?t.values[s]:l)}return{failures:n,results:r,numFailures:u,lastResult:c}})).catch((function(t){return i.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function d(t,e,i){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:i}).then((function(n){var r=n.result;return f({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:d(t,o(o({},e),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return a}})}};function tr(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],o=0,i=0;o<e.keys.length&&i<t.length;++o)0===_e(e.keys[o],t[i])&&(r.push(n?D(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch(_n){return null}}var er={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return o(o({},n),{getMany:function(t){if(!t.cache)return n.getMany(t);var e=tr(t.keys,t.trans._cache,"clone"===t.cache);return e?Ct.resolve(e):n.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?D(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),n.mutate(t)}})}}}};function nr(t,e){return"readonly"===t.trans.mode&&!!t.subscr&&!t.trans.explicit&&"disabled"!==t.trans.db._options.cache&&!e.schema.primaryKey.outbound}function rr(t,e){switch(t){case"query":return e.values&&!e.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var or={stack:"dbcore",level:0,name:"Observability",create:function(t){var e=t.schema.name,n=new In(t.MIN_KEY,t.MAX_KEY);return o(o({},t),{transaction:function(e,n,r){if(Lt.subscr&&"readonly"!==n)throw new J.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Lt.querier));return t.transaction(e,n,r)},table:function(r){var i=t.table(r),a=i.schema,s=a.primaryKey,l=a.indexes,f=s.extractKey,h=s.outbound,d=s.autoIncrement&&l.filter((function(t){return t.compound&&t.keyPath.includes(s.keyPath)})),p=o(o({},i),{mutate:function(o){var u,l,f=o.trans,h=o.mutatedParts||(o.mutatedParts={}),p=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return h[n]||(h[n]=new In)},v=p(""),y=p(":dels"),b=o.type,m="deleteRange"===o.type?[o.range]:"delete"===o.type?[o.keys]:o.values.length<50?[Jn(s,o).filter((function(t){return t})),o.values]:[],g=m[0],w=m[1],x=o.trans._cache;if(c(g)){v.addKeys(g);var O="delete"===b||g.length===w.length?tr(g,x):null;O||y.addKeys(g),(O||w)&&function(t,e,n,r){function o(e){var o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}var a=function(t){return e.multiEntry&&c(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,e){var o=n&&i(n[e]),u=r&&i(r[e]);0!==_e(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}e.indexes.forEach(o)}(p,a,O,w)}else if(g){var j={from:null!==(u=g.lower)&&void 0!==u?u:t.MIN_KEY,to:null!==(l=g.upper)&&void 0!==l?l:t.MAX_KEY};y.add(j),v.add(j)}else v.add(n),y.add(n),a.indexes.forEach((function(t){return p(t.name).add(n)}));return i.mutate(o).then((function(t){return!g||"add"!==o.type&&"put"!==o.type||(v.addKeys(t.results),d&&d.forEach((function(e){for(var n=o.values.map((function(t){return e.extractKey(t)})),r=e.keyPath.findIndex((function(t){return t===s.keyPath})),i=0,a=t.results.length;i<a;++i)n[i][r]=t.results[i];p(e.name).addKeys(n)}))),f.mutatedParts=Un(f.mutatedParts||{},h),t}))}}),v=function(e){var n,r,o=e.query,i=o.index,a=o.range;return[i,new In(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},y={get:function(t){return[s,new In(t.key)]},getMany:function(t){return[s,(new In).addKeys(t.keys)]},count:v,query:v,openCursor:v};return u(y).forEach((function(t){p[t]=function(a){var u=Lt.subscr,c=!!u,s=nr(Lt,i)&&rr(t,a)?a.obsSet={}:u;if(c){var l=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return s[n]||(s[n]=new In)},d=l(""),p=l(":dels"),v=y[t](a),b=v[0],m=v[1];if("query"===t&&b.isPrimaryKey&&!a.values?p.add(m):l(b.name||"").add(m),!b.isPrimaryKey){if("count"!==t){var g="query"===t&&h&&a.values&&i.query(o(o({},a),{values:!1}));return i[t].apply(this,arguments).then((function(e){if("query"===t){if(h&&a.values)return g.then((function(t){var n=t.result;return d.addKeys(n),e}));var n=a.values?e.result.map(f):e.result;a.values?d.addKeys(n):p.addKeys(n)}else if("openCursor"===t){var r=e,o=a.values;return r&&Object.create(r,{key:{get:function(){return p.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return p.addKey(t),t}},value:{get:function(){return o&&d.addKey(r.primaryKey),r.value}}})}return e}))}p.add(n)}}return i[t].apply(this,arguments)}})),p}})}};function ir(t,e,n){if(0===n.numFailures)return e;if("deleteRange"===e.type)return null;var r=e.keys?e.keys.length:"values"in e&&e.values?e.values.length:1;if(n.numFailures===r)return null;var i=o({},e);return c(i.keys)&&(i.keys=i.keys.filter((function(t,e){return!(e in n.failures)}))),"values"in i&&c(i.values)&&(i.values=i.values.filter((function(t,e){return!(e in n.failures)}))),i}function ar(t,e){return function(t,e){return void 0===e.lower||(e.lowerOpen?_e(t,e.lower)>0:_e(t,e.lower)>=0)}(t,e)&&function(t,e){return void 0===e.upper||(e.upperOpen?_e(t,e.upper)<0:_e(t,e.upper)<=0)}(t,e)}function ur(t,e,n,r,o,i){if(!n||0===n.length)return t;var a=e.query.index,u=a.multiEntry,s=e.query.range,l=r.schema.primaryKey.extractKey,f=a.extractKey,h=(a.lowLevelIndex||a).extractKey,d=n.reduce((function(t,n){var r=t,o=[];if("add"===n.type||"put"===n.type)for(var i=new In,a=n.values.length-1;a>=0;--a){var h=n.values[a],d=l(h);if(!i.hasKey(d)){var p=f(h);(u&&c(p)?p.some((function(t){return ar(t,s)})):ar(p,s))&&(i.addKey(d),o.push(h))}}switch(n.type){case"add":var v=(new In).addKeys(e.values?t.map((function(t){return l(t)})):t);r=t.concat(e.values?o.filter((function(t){var e=l(t);return!v.hasKey(e)&&(v.addKey(e),!0)})):o.map((function(t){return l(t)})).filter((function(t){return!v.hasKey(t)&&(v.addKey(t),!0)})));break;case"put":var y=(new In).addKeys(n.values.map((function(t){return l(t)})));r=t.filter((function(t){return!y.hasKey(e.values?l(t):t)})).concat(e.values?o:o.map((function(t){return l(t)})));break;case"delete":var b=(new In).addKeys(n.keys);r=t.filter((function(t){return!b.hasKey(e.values?l(t):t)}));break;case"deleteRange":var m=n.range;r=t.filter((function(t){return!ar(l(t),m)}))}return r}),t);return d===t?t:(d.sort((function(t,e){return _e(h(t),h(e))||_e(l(t),l(e))})),e.limit&&e.limit<1/0&&(d.length>e.limit?d.length=e.limit:t.length===e.limit&&d.length<e.limit&&(o.dirty=!0)),i?Object.freeze(d):d)}function cr(t,e){return 0===_e(t.lower,e.lower)&&0===_e(t.upper,e.upper)&&!!t.lowerOpen===!!e.lowerOpen&&!!t.upperOpen===!!e.upperOpen}function sr(t,e){return function(t,e,n,r){if(void 0===t)return void 0!==e?-1:0;if(void 0===e)return 1;var o=_e(t,e);if(0===o){if(n&&r)return 0;if(n)return 1;if(r)return-1}return o}(t.lower,e.lower,t.lowerOpen,e.lowerOpen)<=0&&function(t,e,n,r){if(void 0===t)return void 0!==e?1:0;if(void 0===e)return-1;var o=_e(t,e);if(0===o){if(n&&r)return 0;if(n)return-1;if(r)return 1}return o}(t.upper,e.upper,t.upperOpen,e.upperOpen)>=0}function lr(t,e,n,r){t.subscribers.add(n),r.addEventListener("abort",(function(){t.subscribers.delete(n),0===t.subscribers.size&&function(t,e){setTimeout((function(){0===t.subscribers.size&&K(e,t)}),3e3)}(t,e)}))}var fr={stack:"dbcore",level:0,name:"Cache",create:function(t){var e=t.schema.name,n=o(o({},t),{transaction:function(n,r,o){var i=t.transaction(n,r,o);if("readwrite"===r){var a=new AbortController,u=a.signal,c=function(o){return function(){if(a.abort(),"readwrite"===r){for(var u=new Set,c=0,s=n;c<s.length;c++){var l=s[c],f=Kn["idb://".concat(e,"/").concat(l)];if(f){var h=t.table(l),d=f.optimisticOps.filter((function(t){return t.trans===i}));if(i._explicit&&o&&i.mutatedParts)for(var p=0,v=Object.values(f.queries.query);p<v.length;p++)for(var y=0,b=(w=v[p]).slice();y<b.length;y++){Fn((j=b[y]).obsSet,i.mutatedParts)&&(K(w,j),j.subscribers.forEach((function(t){return u.add(t)})))}else if(d.length>0){f.optimisticOps=f.optimisticOps.filter((function(t){return t.trans!==i}));for(var m=0,g=Object.values(f.queries.query);m<g.length;m++)for(var w,x=0,O=(w=g[m]).slice();x<O.length;x++){var j;if(null!=(j=O[x]).res&&i.mutatedParts)if(o&&!j.dirty){var _=Object.isFrozen(j.res),k=ur(j.res,j.req,d,h,j,_);j.dirty?(K(w,j),j.subscribers.forEach((function(t){return u.add(t)}))):k!==j.res&&(j.res=k,j.promise=Ct.resolve({result:k}))}else j.dirty&&K(w,j),j.subscribers.forEach((function(t){return u.add(t)}))}}}}u.forEach((function(t){return t()}))}}};i.addEventListener("abort",c(!1),{signal:u}),i.addEventListener("error",c(!1),{signal:u}),i.addEventListener("complete",c(!0),{signal:u})}return i},table:function(n){var r=t.table(n),i=r.schema.primaryKey,a=o(o({},r),{mutate:function(t){var a=Lt.trans;if(i.outbound||"disabled"===a.db._options.cache||a.explicit||"readwrite"!==a.idbtrans.mode)return r.mutate(t);var u=Kn["idb://".concat(e,"/").concat(n)];if(!u)return r.mutate(t);var c=r.mutate(t);return"add"!==t.type&&"put"!==t.type||!(t.values.length>=50||Jn(i,t).some((function(t){return null==t})))?(u.optimisticOps.push(t),t.mutatedParts&&Wn(t.mutatedParts),c.then((function(e){if(e.numFailures>0){K(u.optimisticOps,t);var n=ir(0,t,e);n&&u.optimisticOps.push(n),t.mutatedParts&&Wn(t.mutatedParts)}})),c.catch((function(){K(u.optimisticOps,t),t.mutatedParts&&Wn(t.mutatedParts)}))):c.then((function(e){var n=o(o({},t),{values:t.values.map((function(t,n){var r;if(e.failures[n])return t;var a=(null===(r=i.keyPath)||void 0===r?void 0:r.includes("."))?D(t):o({},t);return k(a,i.keyPath,e.results[n]),a}))}),r=ir(0,n,e);u.optimisticOps.push(r),queueMicrotask((function(){return t.mutatedParts&&Wn(t.mutatedParts)}))})),c},query:function(t){var o;if(!nr(Lt,r)||!rr("query",t))return r.query(t);var i="immutable"===(null===(o=Lt.trans)||void 0===o?void 0:o.db._options.cache),a=Lt,u=a.requery,c=a.signal,s=function(t,e,n,r){var o=Kn["idb://".concat(t,"/").concat(e)];if(!o)return[];var i=o.queries[n];if(!i)return[null,!1,o,null];var a=i[(r.query?r.query.index.name:null)||""];if(!a)return[null,!1,o,null];switch(n){case"query":var u=a.find((function(t){return t.req.limit===r.limit&&t.req.values===r.values&&cr(t.req.query.range,r.query.range)}));return u?[u,!0,o,a]:[a.find((function(t){return("limit"in t.req?t.req.limit:1/0)>=r.limit&&(!r.values||t.req.values)&&sr(t.req.query.range,r.query.range)})),!1,o,a];case"count":var c=a.find((function(t){return cr(t.req.query.range,r.query.range)}));return[c,!!c,o,a]}}(e,n,"query",t),l=s[0],f=s[1],h=s[2],d=s[3];if(l&&f)l.obsSet=t.obsSet;else{var p=r.query(t).then((function(t){var e=t.result;if(l&&(l.res=e),i){for(var n=0,r=e.length;n<r;++n)Object.freeze(e[n]);Object.freeze(e)}else t.result=D(e);return t})).catch((function(t){return d&&l&&K(d,l),Promise.reject(t)}));l={obsSet:t.obsSet,promise:p,subscribers:new Set,type:"query",req:t,dirty:!1},d?d.push(l):(d=[l],h||(h=Kn["idb://".concat(e,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),h.queries.query[t.query.index.name||""]=d)}return lr(l,d,u,c),l.promise.then((function(e){return{result:ur(e.result,t,null===h||void 0===h?void 0:h.optimisticOps,r,l,i)}}))}});return a}});return n}};function hr(t,e){return new Proxy(t,{get:function(t,n,r){return"db"===n?e:Reflect.get(t,n,r)}})}var dr,pr=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=o({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};c.dbReadyPromise=new Ct((function(t){c.dbReadyResolve=t})),c.openCanceller=new Ct((function(t,e){c.cancelOpen=e})),this._state=c,this.name=e,this.on=Le(this,"populate","blocked","versionchange","close",{ready:[st,et]}),this.on.ready.subscribe=x(this.on.ready.subscribe,(function(e){return function(n,o){t.vip((function(){var t=r._state;if(t.openComplete)t.dbOpenError||Ct.resolve().then(n),o&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),o&&e(n);else{e(n);var i=r;o||e((function t(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(u=this,Te(Fe.prototype,(function(t,e){this.db=u;var n=xe,r=null;if(e)try{n=e()}catch(c){r=c}var o=t._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==nt?a:null}}))),this.Table=function(t){return Te(Se.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Le(null,{creating:[it,et],reading:[rt,nt],updating:[ut,et],deleting:[at,et]})}))}(this),this.Transaction=function(t){return Te(tn.prototype,(function(e,n,r,o,i){var a=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Le(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ct((function(t,e){a._resolve=t,a._reject=e})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(t){var e=a.active;return a.active=!1,a.on.error.fire(t),a.parent?a.parent._reject(t):e&&a.idbtrans&&a.idbtrans.abort(),se(t)}))}))}(this),this.Version=function(t){return Te(kn.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Te(Ve.prototype,(function(e,n,r){if(this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r},this._cmp=this._ascending=_e,this._descending=function(t,e){return _e(e,t)},this._max=function(t,e){return _e(t,e)>0?t:e},this._min=function(t,e){return _e(t,e)<0?t:e},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new J.MissingAPI}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(t.oldVersion/10))})),this._maxKey=on(n.IDBKeyRange),this._createTransaction=function(t,e,n,o){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),ye.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(er),this.use(fr),this.use(or),this.use(Xn),this.use(Zn);var s=new Proxy(this,{get:function(t,e,n){if("_vip"===e)return!0;if("table"===e)return function(t){return hr(r.table(t),s)};var o=Reflect.get(t,e,n);return o instanceof Se?hr(o,s):"tables"===e?o.map((function(t){return hr(t,s)})):"_createTransaction"===e?function(){return hr(o.apply(this,arguments),s)}:o}});this.vip=s,a.forEach((function(t){return t(r)}))}return t.prototype.version=function(t){if(isNaN(t)||t<.1)throw new J.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(vn),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||Lt.letThrough||this._vip)?t():new Ct((function(t,n){if(e._state.openComplete)return n(new J.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return void n(new J.DatabaseClosed);e.open().catch(et)}e._state.dbReadyPromise.then(t,n)})).then(t)},t.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:null==r?10:r,name:o}),i.sort((function(t,e){return t.level-e.level})),this},t.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this},t.prototype.open=function(){var t=this;return ae(St,(function(){return Yn(t)}))},t.prototype._close=function(){var t=this._state,e=ye.indexOf(this);if(e>=0&&ye.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(n){}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new Ct((function(e){t.dbReadyResolve=e})),t.openCanceller=new Ct((function(e,n){t.cancelOpen=n})))},t.prototype.close=function(t){var e=(void 0===t?{disableAutoOpen:!0}:t).disableAutoOpen,n=this._state;e?(n.isBeingOpened&&n.cancelOpen(new J.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new J.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},t.prototype.delete=function(t){var e=this;void 0===t&&(t={disableAutoOpen:!0});var n=arguments.length>0&&"object"!==typeof arguments[0],r=this._state;return new Ct((function(o,i){var a=function(){e.close(t);var n=e._deps.indexedDB.deleteDatabase(e.name);n.onsuccess=Yt((function(){!function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Sn(n)&&e!==be&&En(n,r).delete(e).catch(et)}(e._deps,e.name),o()})),n.onerror=Qe(i),n.onblocked=e._fireOnBlocked};if(n)throw new J.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()}))},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return null!==this.idbdb},t.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},t.prototype.hasFailed=function(){return null!==this._state.dbOpenError},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var t=this;return u(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var t=Hn.apply(this,arguments);return this._transaction.apply(this,t)},t.prototype._transaction=function(t,e,n){var r=this,o=Lt.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var i,a,u=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(a=e.map((function(t){var e=t instanceof r.Table?t.name:t;if("string"!==typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===me)i=me;else{if("rw"!=t&&t!=ge)throw new J.InvalidArgument("Invalid transaction mode: "+t);i=ge}if(o){if(o.mode===me&&i===ge){if(!u)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!u)throw new J.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(s){return o?o._promise(null,(function(t,e){e(s)})):se(s)}var c=Vn.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Lt.trans?ae(Lt.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},t.prototype.table=function(t){if(!h(this._allTables,t))throw new J.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},t}(),vr="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",yr=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!==typeof t?t:{next:t,error:e,complete:n})},t.prototype[vr]=function(){return this},t}();try{dr={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(Or){dr={indexedDB:null,IDBKeyRange:null}}var br=pr;function mr(t){var e=wr;try{wr=!0,Ze.storagemutated.fire(t),qn(t,!0)}finally{wr=e}}d(br,o(o({},tt),{delete:function(t){return new br(t,{addons:[]}).delete()},exists:function(t){return new br(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return Sn(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return t!==be}))})):En(e,n).toCollection().primaryKeys()}(br.dependencies).then(t)}catch(_n){return se(new J.MissingAPI)}},defineClass:function(){return function(t){s(this,t)}},ignoreTransaction:function(t){return Lt.trans?ae(Lt.transless,t):t()},vip:Ln,async:function(t){return function(){try{var e=zn(t.apply(this,arguments));return e&&"function"===typeof e.then?e:Ct.resolve(e)}catch(Or){return se(Or)}}},spawn:function(t,e,n){try{var r=zn(t.apply(n,e||[]));return r&&"function"===typeof r.then?r:Ct.resolve(r)}catch(Or){return se(Or)}},currentTransaction:{get:function(){return Lt.trans||null}},waitFor:function(t,e){var n=Ct.resolve("function"===typeof t?br.ignoreTransaction(t):t).timeout(e||6e4);return Lt.trans?Lt.trans.waitFor(n):n},Promise:Ct,debug:{get:function(){return lt},set:function(t){ft(t)}},derive:y,extend:s,props:d,override:x,Events:Le,on:Ze,liveQuery:function(t){var e,n=!1,r=new yr((function(r){var o=W(t);var i,a=!1,u={},c={},s={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),l&&Ze.storagemutated.unsubscribe(d))}};r.start&&r.start(s);var l=!1,f=function(){return ce(p)};var d=function(t){Un(u,t),Fn(c,u)&&f()},p=function(){if(!a&&dr.indexedDB){u={};var s={};i&&i.abort(),i=new AbortController;var p={subscr:s,signal:i.signal,requery:f,querier:t,trans:null},v=function(e){var n=Rt();try{o&&Zt();var r=Jt(t,e);return o&&(r=r.finally(te)),r}finally{n&&Wt()}}(p);Promise.resolve(v).then((function(t){n=!0,e=t,a||p.signal.aborted||(u={},function(t){for(var e in t)if(h(t,e))return!1;return!0}(c=s)||l||(Ze($e,d),l=!0),ce((function(){return!a&&r.next&&r.next(t)})))}),(function(t){n=!1,["DatabaseClosedError","AbortError"].includes(null===t||void 0===t?void 0:t.name)||a||ce((function(){a||r.error&&r.error(t)}))}))}};return setTimeout(f,0),s}));return r.hasValue=function(){return n},r.getValue=function(){return e},r},extendObservabilitySet:Un,getByKeyPath:_,setByKeyPath:k,delByKeyPath:function(t,e){"string"===typeof e?k(t,e,void 0):"length"in e&&[].map.call(e,(function(e){k(t,e,void 0)}))},shallowClone:E,deepClone:D,getObjectDiff:$n,cmp:_e,asap:j,minKey:de,addons:[],connections:ye,errnames:X,dependencies:dr,cache:Kn,semVer:fe,version:fe.split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),br.maxKey=on(br.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(Ze($e,(function(t){var e;wr||(e=new CustomEvent(Je,{detail:t}),wr=!0,dispatchEvent(e),wr=!1)})),addEventListener(Je,(function(t){var e=t.detail;wr||mr(e)})));var gr,wr=!1,xr=function(){};"undefined"!==typeof BroadcastChannel&&((xr=function(){(gr=new BroadcastChannel(Je)).onmessage=function(t){return t.data&&mr(t.data)}})(),"function"===typeof gr.unref&&gr.unref(),Ze($e,(function(t){wr||gr.postMessage(t)}))),"undefined"!==typeof addEventListener&&(addEventListener("pagehide",(function(t){if(!pr.disableBfCache&&t.persisted){lt&&console.debug("Dexie: handling persisted pagehide"),null===gr||void 0===gr||gr.close();for(var e=0,n=ye;e<n.length;e++){n[e].close({disableAutoOpen:!1})}}})),addEventListener("pageshow",(function(t){!pr.disableBfCache&&t.persisted&&(lt&&console.debug("Dexie: handling persisted pageshow"),xr(),mr({all:new In(-1/0,[[]])}))}))),Ct.rejectionMapper=function(t,e){if(!t||t instanceof z||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Z[t.name])return t;var n=new Z[t.name](e||t.message,t);return"stack"in t&&v(n,"stack",{get:function(){return this.inner.stack}}),n},ft(lt)},function(t,e,n){"use strict";function r(){var t,e=0;return function(n){return e||(t=Promise.resolve()),e++,t=t.then(n).finally((function(){e--}))}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(t,e,n){var o,i=r[t];return o="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function i(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},u={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c=function(t,e,n,r){return u[t]};function s(t){return function(e,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):o;r=t.formattingValues[i]||t.formattingValues[o]}else{var a=t.defaultWidth,u=null!==n&&void 0!==n&&n.width?String(n.width):t.defaultWidth;r=t.values[u]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}var l={ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function f(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a,u=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],s=Array.isArray(c)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(c,(function(t){return t.test(u)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n;return}(c,(function(t){return t.test(u)}));return a=t.valueCallback?t.valueCallback(s):s,{value:a=n.valueCallback?n.valueCallback(a):a,rest:e.slice(u.length)}}}var h,d={ordinalNumber:(h={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(h.matchPattern);if(!n)return null;var r=n[0],o=t.match(h.parsePattern);if(!o)return null;var i=h.valueCallback?h.valueCallback(o[0]):o[0];return{value:i=e.valueCallback?e.valueCallback(i):i,rest:t.slice(r.length)}}),era:f({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:f({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:f({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:f({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},p={code:"en-US",formatDistance:o,formatLong:a,formatRelative:c,localize:l,match:d,options:{weekStartsOn:0,firstWeekContainsDate:1}};e.a=p},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(12),o=n(8);function i(t,e){Object(o.a)(2,arguments);var n=Object(r.a)(t),i=Object(r.a)(e),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}},function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(36);var o=n(49),i=n(54);var a=n(75);function u(t){return t}function c(t){return 0===t.length?u:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var s=n(35);n.d(e,"a",(function(){return l}));var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?u.add(a.call(u,this.source)):u.add(this.source||s.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),s.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,o=e.destination,i=e.isStopped;if(n||i)return!1;t=o&&o instanceof r.a?o:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:c(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function f(t){if(t||(t=s.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";function r(t){return Number.isSafeInteger(t)}function o(t,e){return t-e}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},,,,function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e){var n,r;return e&&e!==t.title?{title:e,titleOriginal:null!==(n=null!==(r=t.titleOriginal)&&void 0!==r?r:t.title)&&void 0!==n?n:""}:{}}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(58);function o(t){return Object(r.a)({},t)}},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}()},function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(72),o=n(71),i=n(46),a=n(73);var u=n(7),c=n(13),s=n(1),l=n(2),f=n(3),h=n(26),d=n(66),p=n(36),v=n(42),y=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),b=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return h.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(v.a),m=n(49),g=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return h.a(e,t),e}(p.a),w=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return h.a(e,t),e.prototype[m.a]=function(){return new g(this)},e.prototype.lift=function(t){var e=new x(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new y;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new y;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new y;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new y;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new y;return this.hasError?(t.error(this.thrownError),v.a.EMPTY):this.isStopped?(t.complete(),v.a.EMPTY):(this.observers.push(t),new b(this,t))},e.prototype.asObservable=function(){var t=new d.a;return t.source=this,t},e.create=function(t,e){return new x(t,e)},e}(d.a),x=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return h.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):v.a.EMPTY},e}(w),O=n(41),j=["top","left","width","height"];function _(){_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return chrome.windows.get(t,{populate:!e.omitTabs})}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return chrome.windows.getCurrent({populate:!t.omitTabs})}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return chrome.windows.getAll({populate:!t.omitTabs,windowTypes:["normal","popup","app"]})}function L(t,e){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(_().mark((function t(e,n){var r,o,i,a;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(l.a)(n),o=[];case 2:if(!r.length){t.next=13;break}return i=r[0].url,t.next=6,P(Object(s.a)(Object(s.a)({},e),{},{url:i||void 0}));case 6:if(!(a=t.sent)){t.next=9;break}return t.abrupt("return",{win:a,remainingUrlInfos:r,failedUrls:o});case 9:o.push(i),r.shift(),t.next=2;break;case 13:return t.abrupt("return",{remainingUrlInfos:r,failedUrls:o});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(_().mark((function t(e){var n,r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.windows.create(e);case 3:n=t.sent,t.next=14;break;case 6:return t.prev=6,t.t0=t.catch(0),console.log("%cWindow creation failed: ".concat((null===t.t0||void 0===t.t0?void 0:t.t0.message)||t.t0||"unknown error"),"color: #0097ff"),console.log("\ud83e\udd16 %cUsing AI to retry window creation without bounds...","color: #0097ff"),e.top,e.left,e.width,e.height,r=Object(O.a)(e,j),t.next=13,chrome.windows.create(r);case 13:n=t.sent;case 14:if(n&&null!=n.id){t.next=16;break}return t.abrupt("return");case 16:return n.tabs||(n.tabs=[]),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function C(t){return chrome.windows.update(t,{focused:!0})}function D(t){return chrome.windows.remove(t)}function A(t){return"popup"===t?t:"normal"}function N(t){return!t||"normal"===t}function M(t){var e={};return t.state&&["maximized","fullscreen"].includes(t.state)?e.state=t.state:(null!=t.top&&(e.top=t.top),null!=t.left&&(e.left=t.left),null!=t.width&&(e.width=t.width),null!=t.height&&(e.height=t.height)),e}var U=["url"];function F(){F=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function K(t,e){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(F().mark((function t(e,n){var r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.tabs.update(e,{url:n});case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function R(t){return chrome.tabs.remove(t)}function W(t){return q.apply(this,arguments)}function q(){return(q=Object(f.a)(F().mark((function t(e){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!["chrome-extension:","extension:","moz-extension:"].some((function(t){var n;return null===(n=e.url)||void 0===n?void 0:n.startsWith(t)}))){t.next=7;break}return t.next=4,G(e);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,chrome.tabs.create(e);case 9:t.t0=t.sent;case 10:return n=t.t0,t.abrupt("return",n);case 14:t.prev=14,t.t1=t.catch(0),console.error(t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function G(t){return Y.apply(this,arguments)}function Y(){return(Y=Object(f.a)(F().mark((function t(e){var n,r,o;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=Object(O.a)(e,U),t.next=3,chrome.tabs.create(Object(s.a)({},r));case 3:return o=t.sent,t.prev=4,t.next=7,chrome.tabs.update(o.id,{url:n});case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(4),t.next=13,chrome.tabs.remove(o.id);case 13:console.error(t.t0);case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}var z=n(21),H=n(11),V=n(9);function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t&&(e=t,t=void 0),new Promise((function(n){setTimeout((function(){var e;n(null===(e=t)||void 0===e?void 0:e())}),e)}))}var X=n(5),$=n(67),J=n(50),Z=n(6),tt=n(18);function et(){et=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}n.d(e,"b",(function(){return lt})),n.d(e,"a",(function(){return ft}));var nt=["id","width","height","top","left","state","type","incognito","tabs"],rt=["id","status","favIconUrl","title","url","pendingUrl","active","pinned","audible","mutedInfo","groupId"],ot=["status","favIconUrl","title","url","pinned","audible","mutedInfo","groupId"],it=new Set,at=[],ut=[],ct=new Set,st={newtabUrl:"chrome://newtab"};function lt(t){return{newtabUrl:t.browser.canonicalNewtabUrl,isFeatureUrl:t.browser.isFeatureUrl}}function ft(t){var e=Object(H.a)(st,t),n={},h=function(){var t=new w;return chrome.windows.onCreated.addListener((function(e){var n=Object(s.a)(Object(s.a)({},e),{},{tabs:[]});t.next({type:"WIN-OPENED",win:ht(n)})})),chrome.windows.onRemoved.addListener((function(e){t.next({type:"WIN-CLOSED",winId:e})})),chrome.windows.onBoundsChanged.addListener((function(e){t.next({type:"WIN-UPDATED-BOUNDS",winId:e.id})})),chrome.tabs.onCreated.addListener((function(e){t.next({type:"TAB-OPENED",tab:dt(e)})})),chrome.tabs.onRemoved.addListener((function(e,n){var r=n.windowId,o=n.isWindowClosing;t.next({type:"TAB-CLOSED",tabId:e,winId:r,isWinClosing:o})})),chrome.tabs.onUpdated.addListener((function(e,n){"complete"===n.status?(ct.add(e),it.has(e)&&(it.delete(e),chrome.tabs.get(e,(function(t){t.active||null==t.id||chrome.tabs.discard(t.id)})))):"loading"===n.status&&ct.delete(e),Object.entries(n).filter((function(t){var e=Object(u.a)(t,1)[0];return ot.includes(e)})).forEach((function(n){var r=Object(u.a)(n,2),o=r[0],i=r[1];t.next({type:"TAB-UPDATED-".concat(Object(X.i)(o)),tabId:e,value:i})}))})),chrome.tabs.onActivated.addListener((function(e){var n=e.tabId,r=e.windowId;t.next({type:"TAB-ACTIVATED",tabId:n,winId:r})})),chrome.tabs.onMoved.addListener((function(e,n){var r=n.windowId,o=n.fromIndex,i=n.toIndex;t.next({type:"TAB-MOVED",tabId:e,fromWinId:r,fromIndex:o,toWinId:r,toIndex:i})})),chrome.tabs.onDetached.addListener((function(t,e){var r=e.oldWindowId,o=e.oldPosition;n[t]={oldWindowId:r,oldPosition:o}})),chrome.tabs.onAttached.addListener((function(e,r){var o=r.newWindowId,i=r.newPosition;var a=n[e];a&&(t.next({type:"TAB-MOVED",tabId:e,fromWinId:a.oldWindowId,fromIndex:a.oldPosition,toWinId:o,toIndex:i}),delete n[e])})),chrome.tabs.onReplaced.addListener((function(e,n){t.next({type:"TAB-REPLACED",addedTabId:e,removedTabId:n})})),t}(),d={getWindows:function(t,e){return Object(f.a)(et().mark((function n(){var r,o,i,a,u,c;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vt();case 2:return r=n.sent.map((function(t){return ht(t)})),n.next=5,chrome.tabs.getCurrent();case 5:if(n.t0=n.sent,n.t0){n.next=8;break}n.t0={};case 8:if(o=n.t0,i=o.id,null!=(a=o.windowId)){n.next=13;break}return n.abrupt("return",r);case 13:if(!(u=r.find((function(t){return t.id===a})))){n.next=20;break}if(e&&(u.current=!0),(c=null!=i&&u.tabs.find((function(t){return t.id===i})))&&e&&(c.current=!0),!t){n.next=20;break}return n.abrupt("return",Object(V.c)(r,(function(t){return t===u})));case 20:return n.abrupt("return",r);case 21:case"end":return n.stop()}}),n)})))()},isNewTabUrl:function(t){return!!t&&e.isFeatureUrl(t,"newtab")},focusWindow:function(t){return Object(f.a)(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:case"end":return e.stop()}}),e)})))()},closeWindows:function(t){return Object(f.a)(et().mark((function e(){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(t){return!bt(t)}))).length){e.next=3;break}return e.abrupt("return");case 3:return at=[].concat(Object(l.a)(at),Object(l.a)(n)),h.next({type:"WINS-CLOSING",winIds:n}),e.next=7,Promise.allSettled(n.map((function(t){return D(t)})));case 7:at=at.filter((function(t){return!n.includes(t)}));case 8:case"end":return e.stop()}}),e)})))()},openTabs:function(t,e){return Object(f.a)(et().mark((function n(){var r,o,i,a,u,c,l,f,h,p,v,y,b,m,g,w;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.target,i=(o=void 0===r?{singleWindow:!1}:r).singleWindow,a=o.prependToWindow,u=o.appendToWindow,c=o.afterTab,l=e.itemSelections,f=e.unfocused,h=e.optimized,p=l?Object(Z.z)(t,l):t,!i){n.next=6;break}return v=p.some((function(t){return t.incognito})),y=1===p.length?{top:p[0].top,left:p[0].left,width:p[0].width,height:p[0].height,state:p[0].state}:{},n.abrupt("return",d.openTabsInNewWindow(Object(Z.o)(p),Object(s.a)(Object(s.a)({incognito:v},y),{},{unfocused:f,optimized:h})));case 6:if(!(b=Object($.a)(a))&&!Object($.a)(u)){n.next=12;break}return m=b?a:u,g=b?0:void 0,w=Object(Z.o)(p).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{active:!0})})),n.abrupt("return",d.openTabsInExistingWindow(w,{windowId:m,index:g,focused:!f,optimized:h}));case 12:if(!Object($.a)(c)){n.next=14;break}return n.abrupt("return",d.openTabsAfterTab(Object(Z.o)(p),{tabId:c,focused:!f,optimized:h}));case 14:return n.abrupt("return",d.openWindows(p,{unfocused:f,optimized:h}));case 15:case"end":return n.stop()}}),n)})))()},openWindows:function(t){var e=arguments;return Object(f.a)(et().mark((function n(){var r,o,i,a,u;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.length>1&&void 0!==e[1]?e[1]:{},o={wins:[],unopenableUrls:[]},i=Object(c.a)(t),n.prev=3,u=et().mark((function t(){var e,n,i,u,c,f,h,p;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=a.value).deleted){t.next=15;break}if(!(n=Object(Z.t)(e).filter((function(t){return!t.deleted}))).length){t.next=15;break}if(!r.optimized||!o.wins.length){t.next=7;break}return t.next=7,Q(Object(tt.a)("optimized-open-delay"));case 7:return t.next=9,d.openTabsInNewWindow(n,gt(e,r));case 9:u=t.sent,c=u.wins,f=u.unopenableUrls,h=c.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{sourceId:e.id})})),(i=o.wins).push.apply(i,Object(l.a)(h)),(null===f||void 0===f?void 0:f.length)&&(p=o.unopenableUrls).push.apply(p,Object(l.a)(f));case 15:case"end":return t.stop()}}),t)})),i.s();case 6:if((a=i.n()).done){n.next=10;break}return n.delegateYield(u(),"t0",8);case 8:n.next=6;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(3),i.e(n.t1);case 15:return n.prev=15,i.f(),n.finish(15);case 18:return n.abrupt("return",o);case 19:case"end":return n.stop()}}),n,null,[[3,12,15,18]])})))()},openTabsInExistingWindow:function(t,e){return Object(f.a)(et().mark((function n(){var r,o,i,a,s,f,h,v,y,b,m,g,w,x,O,j;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(e.windowId,{omitTabs:!0});case 2:return r=n.sent,n.next=5,p(t,r.incognito);case 5:if(o=n.sent,i=Object(u.a)(o,2),a=i[0],s=i[1],a.length){n.next=12;break}return console.warn("no openable URLs provided".concat(s.length?". rejected ".concat(s.length," ").concat(1===s.length?"URL":"URLs",": ").concat(s.map((function(t){return t.url})).join(",")):"")),n.abrupt("return",{tabs:[],unopenableUrls:s.map((function(t){return t.url}))});case 12:s.length&&console.warn("".concat(s.length," ").concat(1===s.length?"URL is":"URLs are"," preemptively disallowed from opening"),s.map((function(t){return t.url}))),f={windowId:e.windowId},h=a.findLast((function(t){return t.active})),v=Object(V.c)(a,(function(t){return!!t.pinned})),y=[],b=[],f.index=e.index,g=Object(c.a)(v),n.prev=20,g.s();case 22:if((w=g.n()).done){n.next=36;break}if(x=w.value,f.url=x.url||void 0,f.active=!!e.focused&&x===h,f.pinned=!!x.pinned,!e.optimized||!y.length){n.next=30;break}return n.next=30,Q(Object(tt.a)("optimized-open-delay"));case 30:return n.next=32,W(f);case 32:(O=n.sent)?(x.active&&(m=f.active?void 0:O.id),y.push(O),e.optimized&&O.id&&it.add(O.id),null!=f.index&&(f.index=Math.max(f.index,O.index)+1)):b.push(f.url||"");case 34:n.next=22;break;case 36:n.next=41;break;case 38:n.prev=38,n.t0=n.catch(20),g.e(n.t0);case 41:return n.prev=41,g.f(),n.finish(41);case 44:if(!e.focused||!y.length){n.next=54;break}return n.next=47,k(e.windowId,{omitTabs:!0});case 47:if(!(j=n.sent)||"minimized"===j.state){n.next=54;break}return n.next=51,C(j.id);case 51:if(void 0===m){n.next=54;break}return n.next=54,d.activateTab(m);case 54:return b.length&&console.warn("".concat(b.length," URLs failed to open (").concat(b.join(","),")")),n.abrupt("return",{tabs:y.map((function(t){return dt(t)})),unopenableUrls:[].concat(Object(l.a)(s.map((function(t){return t.url}))),b)});case 56:case"end":return n.stop()}}),n,null,[[20,38,41,44]])})))()},openTabsAfterTab:function(t,e){return Object(f.a)(et().mark((function n(){var r,o,i,a,u;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.getWindows();case 2:if(r=n.sent,o=Object(Z.m)(r,(function(t){return t.id===e.tabId})),i=o.group,a=o.unitIdx,i){n.next=6;break}throw new Error("tabId ".concat(e.tabId," does not match any open tab"));case 6:return u=t.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{active:!0})})),n.abrupt("return",d.openTabsInExistingWindow(u,{windowId:i.id,index:a+1,focused:e.focused,optimized:e.optimized}));case 8:case"end":return n.stop()}}),n)})))()},openTabsInNewWindow:function(t,e){return Object(f.a)(et().mark((function n(){var c,f,h,v,y,b,m,g,w,x,O,j,_,S,T,P,I,D,A,U;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.incognito){n.next=8;break}return n.next=3,chrome.extension.isAllowedIncognitoAccess();case 3:if(n.sent){n.next=8;break}return c=chrome.runtime.getManifest(),console.warn("cannot open tabs in an incognito window because ".concat(c.name||"extension"," is not allowed incognito access.")),n.abrupt("return",{wins:[],unopenableUrls:t.map((function(t){return t.url}))});case 8:return n.next=10,p(t,e.incognito);case 10:if(f=n.sent,h=Object(u.a)(f,2),v=h[0],y=h[1],v.length){n.next=17;break}return console.warn("no openable URLs provided".concat(y.length?". rejected ".concat(y.length," ").concat(1===y.length?"URL":"URLs",": ").concat(y.map((function(t){return t.url})).join(",")):"")),n.abrupt("return",{wins:[],unopenableUrls:y.map((function(t){return t.url}))});case 17:return y.length&&console.warn("".concat(y.length," ").concat(1===y.length?"URL is":"URLs are"," preemptively disallowed from opening"),y.map((function(t){return t.url}))),n.t0=s.a,n.t1={incognito:!!e.incognito},n.next=22,M(e);case 22:return n.t2=n.sent,b=(0,n.t0)(n.t1,n.t2),e.unfocused&&N(b.state)&&(b.focused=!1),e.type&&(b.type=e.type),n.next=28,L(b,v);case 28:if(m=n.sent,g=m.win,w=m.remainingUrlInfos,x=m.failedUrls,g){n.next=35;break}return x.length&&console.warn("".concat(x.length," URLs failed to open (").concat(x.join(","),")")),n.abrupt("return",{wins:[],unopenableUrls:[].concat(Object(l.a)(y.map((function(t){return t.url}))),Object(l.a)(x))});case 35:if(F=w,O=Object(r.a)(F)||Object(o.a)(F)||Object(i.a)(F)||Object(a.a)(),j=O[0],_=O.slice(1),(S=g.tabs[0])&&null!=S.id){n.next=39;break}throw new Error("created window has no tabs");case 39:if(!e.unfocused||N(b.state)){n.next=45;break}return n.next=42,E({omitTabs:!0});case 42:return T=n.sent,n.next=45,C(T.id);case 45:if(!j.pinned){n.next=48;break}return n.next=48,chrome.tabs.update(S.id,{pinned:!0});case 48:if(e.optimized&&it.add(S.id),!_.length){n.next=55;break}return n.next=52,d.openTabsInExistingWindow(_,{windowId:g.id,focused:!e.unfocused,optimized:e.optimized});case 52:n.t3=n.sent,n.next=56;break;case 55:n.t3={};case 56:return P=n.t3,I=P.unopenableUrls,D=void 0===I?[]:I,(A=[].concat(Object(l.a)(x),Object(l.a)(D))).length&&console.warn("".concat(A.length," URLs failed to open (").concat(A.join(","),")")),n.next=63,k(g.id);case 63:return U=n.sent,n.abrupt("return",{wins:[ht(U)],unopenableUrls:[].concat(Object(l.a)(y.map((function(t){return t.url}))),Object(l.a)(A))});case 65:case"end":return n.stop()}var F}),n)})))()},activateOrOpenTab:function(t){var e=arguments;return Object(f.a)(et().mark((function n(){var r,o,i,a,u,c,s,f,h,p,v,y,b,m,g;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.length>1&&void 0!==e[1]?e[1]:{},n.next=3,E({omitTabs:!0});case 3:return i=n.sent.id,n.next=6,vt();case 6:if(a=n.sent,u=a.find((function(t){return t.id===i})),c=u&&pt(u,o.targetWindowPrivacy)?Object(V.c)(u.tabs,(function(t){return t.active})):[],s="current-window"===o.activationScope&&c.length?c:[].concat(Object(l.a)(c),Object(l.a)(a.filter((function(t){return t.id!==i})).flatMap((function(t){return t.tabs})))),"incognito"===o.targetWindowPrivacy?s=s.filter((function(t){return t.incognito})):"clear"===o.targetWindowPrivacy&&(s=s.filter((function(t){return!t.incognito}))),!(f=s.find(o.tabMatcher||function(e){return Object(X.h)(e.url,"/")===Object(X.h)(t,"/")}))){n.next=14;break}return n.abrupt("return",d.activateTab(f.id,{focusWindow:!0}));case 14:if(!c.length||!o.reuseNewTab){n.next=21;break}if(!(h=c[0]).active||!d.isNewTabUrl(h.url)){n.next=21;break}return n.next=19,K(h.id,t);case 19:return p=n.sent,n.abrupt("return",p&&dt(p));case 21:if(!s.length){n.next=28;break}return v=s[0].windowId,n.next=25,d.openTabsInExistingWindow([{url:t,active:!0}],{windowId:v,focused:v!==i||!o.unfocusedIfCurrent});case 25:return y=n.sent,b=y.tabs,n.abrupt("return",b[0]);case 28:return n.next=30,d.openTabsInNewWindow([{url:t,active:!0}],{incognito:"incognito"===o.targetWindowPrivacy});case 30:return m=n.sent,g=m.wins,n.abrupt("return",null===(r=g[0])||void 0===r?void 0:r.tabs[0]);case 33:case"end":return n.stop()}}),n)})))()},activateTab:function(t){var e=arguments;return Object(f.a)(et().mark((function n(){var r,o;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:{},n.prev=1,n.next=4,chrome.tabs.update(t,{active:!0});case 4:if(o=n.sent,!r.focusWindow){n.next=8;break}return n.next=8,C(o.windowId);case 8:return n.abrupt("return",dt(o));case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},moveTabs:function(){},togglePinTabs:function(){},toggleMuteTabs:function(){},closeTabs:function(t){return Object(f.a)(et().mark((function e(){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(t){return!mt(t)}))).length){e.next=3;break}return e.abrupt("return");case 3:return ut=[].concat(Object(l.a)(ut),Object(l.a)(n)),h.next({type:"TABS-CLOSING",tabIds:n}),e.next=7,Promise.allSettled(n.map((function(t){return R(t)})));case 7:ut=ut.filter((function(t){return!n.includes(t)}));case 8:case"end":return e.stop()}}),e)})))()},observe:function(){return h}};return d;function p(t,e){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(et().mark((function t(e,n){var r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.extension.isAllowedFileSchemeAccess();case 2:return r=t.sent,t.abrupt("return",Object(V.k)(e,(function(t){return y(t.url,r,n)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,n,r){return(n||!Object(z.c)(t))&&!Object(z.f)(t)&&(!r||!e.isFeatureUrl(t,"bookmarks")&&!e.isFeatureUrl(t,"history")&&!e.isFeatureUrl(t,"extensions")&&!e.isFeatureUrl(t,"settings"))}}function ht(t){var e=Object(H.i)(t,nt);if(!Object(J.a)(e))throw new Error("chrome.window is missing id: ".concat(JSON.stringify(t)));var n=e.tabs.map((function(t){return dt(t)})),r=Object(s.a)(Object(s.a)({},e),{},{tabs:n});return Object(Z.B)(r)}function dt(t){var e=Object(H.i)(t,rt);if(!Object(J.a)(e))throw new Error("chrome.tab is missing id: ".concat(JSON.stringify(t)));"complete"!==e.status&&ct.has(e.id)&&(e.status="complete");var n=Object(s.a)({},e);return Object(Z.A)(n)}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";return"any"===e||"incognito"===e&&t.incognito||"clear"===e&&!t.incognito}function vt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(f.a)(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return t.abrupt("return",t.sent.filter((function(t){return!bt(t.id)})).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{tabs:t.tabs.filter((function(t){return null!=t.id&&!mt(t.id)}))})})).filter((function(t){return t.tabs.length})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(t){return at.includes(t)}function mt(t){return ut.includes(t)}function gt(t){var e=t.incognito,n=t.type,r=t.state,o=t.left,i=t.top,a=t.width,u=t.height,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)({incognito:e,type:A(n),state:r,left:o,top:i,width:a,height:u},c)}},,function(t){t.exports=JSON.parse('{"googleChromeWebStore":{"url":"https://chrome.google.com/webstore/","authoritativeBrowserConfig":"chrome"},"microsoftAddOnStore":{"url":"","authoritativeBrowserConfig":"edge"},"mozillaAddOnStore":{"url":"","authoritativeBrowserConfig":"firefox"},"appleMacAppStore":{"url":"","authoritativeBrowserConfig":"safari"}}')},function(t,e,n){t.exports=n(98)},,,,,,,,,,,function(t,e){e.parse=function(t,e){if(e?e.offsets="undefined"===typeof e.offsets||e.offsets:e={offsets:!0},t||(t=""),-1!==t.indexOf(":")||e.tokenize){if(e.keywords||e.ranges||e.tokenize){var n={text:[]};e.offsets&&(n.offsets=[]);for(var r,o={},i=[],a=/(\S+:'(?:[^'\\]|\\.)*')|(\S+:"(?:[^"\\]|\\.)*")|(-?"(?:[^"\\]|\\.)*")|(-?'(?:[^'\\]|\\.)*')|\S+|\S+:\S+/g;null!==(r=a.exec(t));){var u,c=(u=r[0]).indexOf(":");if(-1!==c){u.split(":");var s=u.slice(0,c),l=u.slice(c+1);l=((l=l.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})),i.push({keyword:s,value:l,offsetStart:r.index,offsetEnd:r.index+u.length})}else{var f=!1;"-"===u[0]&&(f=!0,u=u.slice(1)),u=((u=u.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})),f?o.text?(o.text instanceof Array||(o.text=[o.text]),o.text.push(u)):o.text=u:i.push({text:u,offsetStart:r.index,offsetEnd:r.index+u.length})}}for(i.reverse();u=i.pop();)if(u.text)n.text.push(u.text),e.offsets&&n.offsets.push(u);else{s=u.keyword;e.keywords=e.keywords||[];var h=!1,d=!1;if(/^-/.test(s)){if("-"===s[0]){var p=s.slice(1);(h=!(-1===e.keywords.indexOf(p)))&&(s=p,d=!0)}}else h=!(-1===e.keywords.indexOf(s));e.ranges=e.ranges||[];var v=!(-1===e.ranges.indexOf(s));if(h){if(e.offsets&&n.offsets.push({keyword:s,value:u.value,offsetStart:d?u.offsetStart+1:u.offsetStart,offsetEnd:u.offsetEnd}),(b=u.value).length){var y=b.split(",");d?o[s]?o[s]instanceof Array?y.length>1?o[s]=o[s].concat(y):o[s].push(b):(o[s]=[o[s]],o[s].push(b)):y.length>1?o[s]=y:e.alwaysArray?o[s]=[b]:o[s]=b:n[s]?n[s]instanceof Array?y.length>1?n[s]=n[s].concat(y):n[s].push(b):(n[s]=[n[s]],n[s].push(b)):y.length>1?n[s]=y:e.alwaysArray?n[s]=[b]:n[s]=b}}else if(v){e.offsets&&n.offsets.push(u);var b,m=(b=u.value).split("-");n[s]={},2===m.length?(n[s].from=m[0],n[s].to=m[1]):!m.length%2||(n[s].from=b)}else{var g=u.keyword+":"+u.value;n.text.push(g),e.offsets&&n.offsets.push({text:g,offsetStart:u.offsetStart,offsetEnd:u.offsetEnd})}}return n.text.length?e.tokenize||(n.text=n.text.join(" ").trim()):delete n.text,n.exclude=o,n}return t}return t},e.stringify=function(t,n,r){if(n||(n={offsets:!0}),!t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.join(" ");if(!Object.keys(t).length)return"";if(3===Object.keys(t).length&&t.text&&t.offsets&&t.exclude&&"string"===typeof t.text)return t.text;r||(r="");var o=function(t){return t.indexOf(" ")>-1?JSON.stringify(t):t},i=function(t){return r+t},a=[];if(t.text){var u=[];"string"===typeof t.text?u.push(t.text):u.push.apply(u,t.text),u.length>0&&a.push(u.map(o).map(i).join(" "))}return n.keywords&&n.keywords.forEach((function(e){if(t[e]){var n=[];"string"===typeof t[e]?n.push(t[e]):n.push.apply(n,t[e]),n.length>0&&a.push(i(e+":"+n.map(o).join(",")))}})),n.ranges&&n.ranges.forEach((function(e){if(t[e]){var n=t[e].from,r=t[e].to;r&&(n=n+"-"+r),n&&a.push(i(e+":"+n))}})),t.exclude&&Object.keys(t.exclude).length>0&&a.push(e.stringify(t.exclude,n,"-")),a.join(" ")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(26),o=n(36);function i(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(o.a)},,function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(1),i=n(84),a=n(33),u=n(51),c=n(21),s=n(14),l=n(4),f=n(134),h=n(26),d=n(36),p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return h.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return h.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(42).a)),v=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),y=new(function(t){function e(n,r){void 0===r&&(r=v.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return h.a(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(v))(p);function b(t,e){return void 0===e&&(e=y),function(n){return n.lift(new m(t,e))}}var m=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.dueTime,this.scheduler))},t}(),g=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return h.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(d.a);function w(t){t.debouncedNext()}var x=n(6);function O(){O=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var j=300,_=["WIN-OPENED","WIN-CLOSED","TAB-OPENED","TAB-CLOSED"],k=null;function E(t){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(O().mark((function t(e){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(),t.next=3,Object(a.e)("showTabCountsBadge");case 3:t.sent?(chrome.action.setBadgeTextColor({color:"#fff"}),chrome.action.setBadgeBackgroundColor({color:"#000"}),T(e),n=e.observe().pipe(Object(f.a)((function(t){var e=t.type;return _.includes(e)})),b(j)),k=n.subscribe((function(){return T(e)}))):chrome.action.setBadgeText({text:""});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){k&&(k.unsubscribe(),k=null)}function T(t){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(O().mark((function t(e){var n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getWindows();case 3:n=t.sent,r=Object(x.o)(n),chrome.action.setBadgeText({text:"".concat(r.length)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn("unable to update badge counts",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var I=n(66),C=n(48);function D(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var A=D(),N=n(75);var M=n(83),U=function(t){if(t&&"function"===typeof t[N.a])return i=t,function(t){var e=i[N.a]();if("function"!==typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((o=t)&&"number"===typeof o.length&&"function"!==typeof o)return r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()};if(function(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,C.a),t};if(t&&"function"===typeof t[A])return e=t,function(t){for(var n=e[A]();;){var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o,i,a=Object(M.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+a+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},F=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return h.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(d.a),K=(d.a,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h.a(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(d.a));d.a;var B=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.durationSelector))},t}(),R=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return h.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=function(t,e){if(!e.closed){if(t instanceof I.a)return t.subscribe(e);var n;try{n=U(t)(e)}catch(r){e.error(r)}return n}}(e,new F(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(K),W=n(82);function q(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=y),n=t,(Object(W.a)(n)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"===typeof e.schedule||(e=y),new I.a((function(n){return n.add(e.schedule(G,t,{subscriber:n,counter:0,period:t})),n}))}function G(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var Y=n(11);function z(){z=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var H=chrome.storage.local,V=["WIN-OPENED","WIN-CLOSED","TAB-OPENED","TAB-CLOSED","TAB-MOVED","TAB-UPDATED-URL","TAB-UPDATED-PINNED","TAB-UPDATED-GROUPID"],Q=["id","incognito","tabs","title","type","state","top","left","width","height"],X=["id","favIconUrl","title","url","pinned","groupId","description","active"],$=null;function J(t){return Z.apply(this,arguments)}function Z(){return(Z=Object(r.a)(z().mark((function t(e){var n,r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.getWindows();case 7:n=t.sent,ot(r=n.map((function(t){return rt(t)})),e)&&tt(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){var e={timestamp:Object(s.a)(),windows:t};return H.set({activeSnapshot:e})}function et(){return nt.apply(this,arguments)}function nt(){return(nt=Object(r.a)(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("activeSnapshot");case 2:return t.abrupt("return",t.sent.activeSnapshot);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t){var e=Object(Y.i)(t,Q);return e.tabs=e.tabs.map((function(t){return function(t){return Object(Y.i)(t,X)}(t)})),e}function ot(t,e){return Object(x.o)(t).some((function(t){return t.url&&!e.isNewTabUrl(t.url)}))}function it(){it=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var at=chrome.storage.local,ut="pulse";function ct(){return st.apply(this,arguments)}function st(){return(st=Object(r.a)(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",at.set({pulse:Object(s.a)()}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lt(){return ft.apply(this,arguments)}function ft(){return(ft=Object(r.a)(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.get("pulse");case 2:return t.abrupt("return",t.sent.pulse);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ht=n(38);function dt(){dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e){return vt.apply(this,arguments)}function vt(){return(vt=Object(r.a)(dt().mark((function t(e,n){var r,o,i,u;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:if(!(null===(o=t.sent)||void 0===o||null===(r=o.windows)||void 0===r?void 0:r.length)){t.next=55;break}if(t.t0="snapshot-scheduled"!==e,t.t0){t.next=21;break}return t.t1=x.C,t.t2=o.windows,t.next=10,Object(ht.f)("snapshot-scheduled");case 10:if(t.t4=i=t.sent,t.t3=null===t.t4,t.t3){t.next=14;break}t.t3=void 0===i;case 14:if(!t.t3){t.next=18;break}t.t5=void 0,t.next=19;break;case 18:t.t5=i.windows;case 19:t.t6=t.t5,t.t0=!(0,t.t1)(t.t2,t.t6);case 21:if(!t.t0){t.next=55;break}return t.t7=x.x,t.t8=Math.max(null!==n&&void 0!==n?n:0,o.timestamp),t.t9=o.timestamp,t.t10=o.windows,t.next=28,Object(a.e)("clientId");case 28:if(t.t11=t.sent,t.t11){t.next=31;break}t.t11="";case 31:return t.t12=t.t11,t.t13=e,t.t14=Object(s.a)(),t.t15={id:t.t8,instant:t.t9,windows:t.t10,clientId:t.t12,type:t.t13,created:t.t14},u=(0,t.t7)(t.t15),t.t16=ht.a,t.t17=u,t.next=40,Object(a.e)("scheduledSnapshotRemoveOlderThan");case 40:if(t.t18=t.sent,t.t18){t.next=43;break}t.t18=a.c;case 43:return t.t19=t.t18,t.t20=60*t.t19,t.t21=1e3*t.t20,t.next=48,Object(a.e)("scheduledSnapshotKeepAtMost");case 48:if(t.t22=t.sent,t.t22){t.next=51;break}t.t22=a.b;case 51:return t.t23=t.t22,t.t24={maxAge:t.t21,maxCount:t.t23},t.next=55,(0,t.t16)(t.t17,t.t24);case 55:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){yt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var bt="snapshot";function mt(){return(mt=Object(r.a)(yt().mark((function t(){return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.alarms.onAlarm.addListener((function(t){t.name===bt&&pt("snapshot-scheduled",Object(s.a)())})),chrome.storage.onChanged.addListener((function(t,e){"local"===e&&t.cycleUpdated&&gt()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(t){return wt.apply(this,arguments)}function wt(){return(wt=Object(r.a)(yt().mark((function t(e){var n,r,o;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e){t.next=4;break}t.t1=e,t.next=7;break;case 4:return t.next=6,Object(a.e)("scheduledSnapshotCycle");case 6:t.t1=t.sent;case 7:if(t.t2=n=t.t1,t.t0=null!==t.t2,!t.t0){t.next=11;break}t.t0=void 0!==n;case 11:if(!t.t0){t.next=15;break}t.t3=n,t.next=16;break;case 15:t.t3=a.a;case 16:(r=t.t3)?(o=60*r*1e3,chrome.alarms.create(bt,{when:Object(s.a)()+o,periodInMinutes:r})):chrome.alarms.clear(bt);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(){xt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}console.log("%c----- service worker load ".concat(l.a.dateAndTime()," -----"),"color: #05d805");try{var Ot=Object(u.a)();0;var jt=Object(i.a)(Object(o.a)({},Object(i.b)(Ot)));!function(t){var e=t.session,n=t.canonicalMainFilename,o=t.canonicalMainUrl;chrome.runtime.onInstalled.addListener(function(){var t=Object(r.a)(xt().mark((function t(r){var i,u,l,f,h,d;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.reason,u=r.previousVersion,"install"!==i){t.next=19;break}return console.log("extension installed"),t.prev=3,t.next=6,chrome.storage.local.get("sbUpdateInfo");case 6:if(!(l=t.sent.sbUpdateInfo)){t.next=12;break}return f="Detected unplanned ".concat(chrome.runtime.getManifest().version," install at ").concat((new Date).toISOString(),". Last update was ").concat(l.previousVersion," -> ").concat(l.currentVersion," at ").concat(new Date(l.updated).toISOString(),"."),console.error(f),chrome.storage.local.set({error:{timestamp:Object(s.a)(),message:f}}),t.abrupt("return");case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(3);case 16:Object(a.f)("showWelcome",!0),t.next=33;break;case 19:if("update"!==i){t.next=32;break}if(h=chrome.runtime.getManifest().version,u===h){t.next=29;break}return console.log("extension updated ".concat(u," -> ").concat(h)),t.next=25,chrome.storage.local.set({sbUpdateInfo:{updated:Object(s.a)(),previousVersion:u,currentVersion:h}});case 25:chrome.storage.local.set({showSbUpdateNotification:!0}),(null===u||void 0===u?void 0:u.startsWith("3."))&&(d=o.toLowerCase(),e.activateOrOpenTab(n,{targetWindowPrivacy:"clear",activationScope:"current-window",unfocusedIfCurrent:!0,tabMatcher:function(t){return Object(c.i)(t.url,d)}})),t.next=30;break;case 29:console.log("extension reloaded");case 30:t.next=33;break;case 32:"chrome_update"!==i&&"browser_update"!==i||console.log("browser version updated");case 33:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}())}({session:jt,canonicalMainFilename:Ot.ext.canonicalMainFilename,canonicalMainUrl:Ot.ext.canonicalMainUrl}),function(t){var e=t.session,n=t.canonicalMainFilename,r=t.canonicalMainUrl.toLowerCase();chrome.action.onClicked.addListener((function(){return e.activateOrOpenTab(n,{targetWindowPrivacy:"clear",activationScope:"current-window",tabMatcher:function(t){return Object(c.i)(t.url,r)},reuseNewTab:!0})}))}({session:jt,canonicalMainFilename:Ot.ext.canonicalMainFilename,canonicalMainUrl:Ot.ext.canonicalMainUrl}),E(jt),chrome.storage.onChanged.addListener((function(t,e){"local"===e&&t.tabCountsSettingUpdated&&E(jt)})),function(t){$&&($.unsubscribe(),$=null);var e,n=t.observe().pipe(Object(f.a)((function(t){var e=t.type;return V.includes(e)})),(e=function(t){return q("TAB-CLOSED"===(null===t||void 0===t?void 0:t.type)||"WIN-CLOSED"===(null===t||void 0===t?void 0:t.type)?2500:1e3)},function(t){return t.lift(new B(e))}));$=n.subscribe((function(){return J(t)}))}(jt),function(){mt.apply(this,arguments)}(),chrome.alarms.onAlarm.addListener((function(t){t.name===ut&&ct()})),function(t){_t.apply(this,arguments)}(jt)}catch(kt){console.error("service worker error",kt)}function _t(){return(_t=Object(r.a)(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=21;break}return t.prev=4,t.t0=pt,t.next=8,lt();case 8:return t.t1=t.sent,t.next=11,(0,t.t0)("browser-closed",t.t1);case 11:t.next=16;break;case 13:t.prev=13,t.t2=t.catch(4),console.error("failed to create browser-closed event",t.t2);case 16:return t.next=18,chrome.storage.session.set({recordingEnabled:!0});case 18:gt(),ct(),chrome.alarms.create(ut,{periodInMinutes:1}),J(e);case 21:case"end":return t.stop()}}),t,null,[[4,13]])})))).apply(this,arguments)}},function(t,e,n){"use strict";var r=n(39),o=n(8);var i=n(12);function a(t){if(Object(o.a)(1,arguments),!function(t){return Object(o.a)(1,arguments),t instanceof Date||"object"===Object(r.a)(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!==typeof t)return!1;var e=Object(i.a)(t);return!isNaN(Number(e))}var u=n(29);function c(t,e){return Object(o.a)(2,arguments),function(t,e){Object(o.a)(2,arguments);var n=Object(i.a)(t).getTime(),r=Object(u.a)(e);return new Date(n+r)}(t,-Object(u.a)(e))}function s(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function l(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=s(r),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var c=s(u);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function f(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=s(e).getTime()-function(t){Object(o.a)(1,arguments);var e=l(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),s(n)}(e).getTime();return Math.round(n/6048e5)+1}var h=n(37);function d(t,e){var n,r,a,c,s,l,f,d;Object(o.a)(1,arguments);var p=Object(h.a)(),v=Object(u.a)(null!==(n=null!==(r=null!==(a=null!==(c=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==c?c:null===e||void 0===e||null===(s=e.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==r?r:null===(f=p.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Object(i.a)(t),b=y.getUTCDay(),m=(b<v?7:0)+b-v;return y.setUTCDate(y.getUTCDate()-m),y.setUTCHours(0,0,0,0),y}function p(t,e){var n,r,a,c,s,l,f,p;Object(o.a)(1,arguments);var v=Object(i.a)(t),y=v.getUTCFullYear(),b=Object(h.a)(),m=Object(u.a)(null!==(n=null!==(r=null!==(a=null!==(c=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==c?c:null===e||void 0===e||null===(s=e.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:b.firstWeekContainsDate)&&void 0!==r?r:null===(f=b.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(y+1,0,m),g.setUTCHours(0,0,0,0);var w=d(g,e),x=new Date(0);x.setUTCFullYear(y,0,m),x.setUTCHours(0,0,0,0);var O=d(x,e);return v.getTime()>=w.getTime()?y+1:v.getTime()>=O.getTime()?y:y-1}function v(t,e){Object(o.a)(1,arguments);var n=Object(i.a)(t),r=d(n,e).getTime()-function(t,e){var n,r,i,a,c,s,l,f;Object(o.a)(1,arguments);var v=Object(h.a)(),y=Object(u.a)(null!==(n=null!==(r=null!==(i=null!==(a=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==a?a:null===e||void 0===e||null===(c=e.locale)||void 0===c||null===(s=c.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:v.firstWeekContainsDate)&&void 0!==r?r:null===(l=v.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),b=p(t,e),m=new Date(0);return m.setUTCFullYear(b,0,y),m.setUTCHours(0,0,0,0),d(m,e)}(n,e).getTime();return Math.round(r/6048e5)+1}function y(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var b={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return y("yy"===e?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):y(n+1,2)},d:function(t,e){return y(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return y(t.getUTCHours()%12||12,e.length)},H:function(t,e){return y(t.getUTCHours(),e.length)},m:function(t,e){return y(t.getUTCMinutes(),e.length)},s:function(t,e){return y(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds();return y(Math.floor(r*Math.pow(10,n-3)),e.length)}},m="midnight",g="noon",w="morning",x="afternoon",O="evening",j="night",_={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return b.y(t,e)},Y:function(t,e,n,r){var o=p(t,r),i=o>0?o:1-o;return"YY"===e?y(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):y(i,e.length)},R:function(t,e){return y(l(t),e.length)},u:function(t,e){return y(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return b.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var o=v(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):y(o,e.length)},I:function(t,e,n){var r=f(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):y(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):b.d(t,e)},D:function(t,e,n){var r=function(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=n-e.getTime();return Math.floor(r/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):y(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return y(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return y(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return y(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,o=t.getUTCHours();switch(r=12===o?g:0===o?m:o/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,o=t.getUTCHours();switch(r=o>=17?O:o>=12?x:o>=4?w:j,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return b.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):b.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):y(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):y(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):b.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):b.s(t,e)},S:function(t,e){return b.S(t,e)},X:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return E(o);case"XXXX":case"XX":return S(o);default:return S(o,":")}},x:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return E(o);case"xxxx":case"xx":return S(o);default:return S(o,":")}},O:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k(o,":");default:return"GMT"+S(o,":")}},z:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k(o,":");default:return"GMT"+S(o,":")}},t:function(t,e,n,r){var o=r._originalDate||t;return y(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,r){return y((r._originalDate||t).getTime(),e.length)}};function k(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=e||"";return n+String(o)+a+y(i,2)}function E(t,e){return t%60===0?(t>0?"-":"+")+y(Math.abs(t)/60,2):S(t,e)}function S(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t);return r+y(Math.floor(o/60),2)+n+y(o%60,2)}var L=_,T=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},P=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},I={p:P,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return T(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",T(o,e)).replace("{{time}}",P(i,e))}},C=n(52),D=["D","DD"],A=["YY","YYYY"];function N(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var M=n(62);n.d(e,"a",(function(){return W}));var U=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K=/^'([^]*?)'?$/,B=/''/g,R=/[a-zA-Z]/;function W(t,e,n){var r,s,l,f,d,p,v,y,b,m,g,w,x,O,j,_,k,E;Object(o.a)(2,arguments);var S=String(e),T=Object(h.a)(),P=null!==(r=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:T.locale)&&void 0!==r?r:M.a,W=Object(u.a)(null!==(l=null!==(f=null!==(d=null!==(p=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==p?p:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==d?d:T.firstWeekContainsDate)&&void 0!==f?f:null===(b=T.locale)||void 0===b||null===(m=b.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==l?l:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Object(u.a)(null!==(g=null!==(w=null!==(x=null!==(O=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==O?O:null===n||void 0===n||null===(j=n.locale)||void 0===j||null===(_=j.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==x?x:T.weekStartsOn)&&void 0!==w?w:null===(k=T.locale)||void 0===k||null===(E=k.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==g?g:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var G=Object(i.a)(t);if(!a(G))throw new RangeError("Invalid time value");var Y=c(G,Object(C.a)(G)),z={firstWeekContainsDate:W,weekStartsOn:q,locale:P,_originalDate:G};return S.match(F).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,I[e])(t,P.formatLong):t})).join("").match(U).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(t){var e=t.match(K);if(!e)return t;return e[1].replace(B,"'")}(r);var i,a=L[o];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(i=r,-1===A.indexOf(i))||N(r,e,String(t)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(t){return-1!==D.indexOf(t)}(r)||N(r,e,String(t)),a(Y,r,P.localize,z);if(o.match(R))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}},function(t,e,n){"use strict";var r=n(37),o=n(52),i=n(64),a=n(12),u=n(80),c=n(58),s=n(62),l=n(8),f=6e4,h=1440,d=30*h,p=365*h;function v(t,e){return Object(l.a)(1,arguments),function(t,e,n){var v,y,b;Object(l.a)(2,arguments);var m=Object(r.a)(),g=null!==(v=null!==(y=null===n||void 0===n?void 0:n.locale)&&void 0!==y?y:m.locale)&&void 0!==v?v:s.a;if(!g.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var w=Object(i.a)(t,e);if(isNaN(w))throw new RangeError("Invalid time value");var x,O,j=Object(c.a)(Object(u.a)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:w});w>0?(x=Object(a.a)(e),O=Object(a.a)(t)):(x=Object(a.a)(t),O=Object(a.a)(e));var _,k=String(null!==(b=null===n||void 0===n?void 0:n.roundingMethod)&&void 0!==b?b:"round");if("floor"===k)_=Math.floor;else if("ceil"===k)_=Math.ceil;else{if("round"!==k)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");_=Math.round}var E,S=O.getTime()-x.getTime(),L=S/f,T=(S-(Object(o.a)(O)-Object(o.a)(x)))/f,P=null===n||void 0===n?void 0:n.unit;if("second"===(E=P?String(P):L<1?"second":L<60?"minute":L<h?"hour":T<d?"day":T<p?"month":"year")){var I=_(S/1e3);return g.formatDistance("xSeconds",I,j)}if("minute"===E){var C=_(L);return g.formatDistance("xMinutes",C,j)}if("hour"===E){var D=_(L/60);return g.formatDistance("xHours",D,j)}if("day"===E){var A=_(T/h);return g.formatDistance("xDays",A,j)}if("month"===E){var N=_(T/d);return 12===N&&"month"!==P?g.formatDistance("xYears",1,j):g.formatDistance("xMonths",N,j)}if("year"===E){var M=_(T/p);return g.formatDistance("xYears",M,j)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}(t,Date.now(),e)}n.d(e,"a",(function(){return v}))}]);